<!DOCTYPE html>
  <html>
    <head>
      <title>javaweb</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:///C:\Users\&#x675F;&#x6C38;&#x7965;\.vscode\extensions\shd101wyy.markdown-preview-enhanced-0.3.1\node_modules\@shd101wyy\mume\dependencies\katex\katex.min.css">
      
      
      
      
      
      
      
      
      

      <style> 
      /**
 * prism.js Github theme based on GitHub's theme.
 * @author Sam Clarke
 */
code[class*="language-"],
pre[class*="language-"] {
  color: #333;
  background: none;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.4;

  -moz-tab-size: 8;
  -o-tab-size: 8;
  tab-size: 8;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

/* Code blocks */
pre[class*="language-"] {
  padding: .8em;
  overflow: auto;
  /* border: 1px solid #ddd; */
  border-radius: 3px;
  /* background: #fff; */
  background: #f5f5f5;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
  padding: .1em;
  border-radius: .3em;
  white-space: normal;
  background: #f5f5f5;
}

.token.comment,
.token.blockquote {
  color: #969896;
}

.token.cdata {
  color: #183691;
}

.token.doctype,
.token.punctuation,
.token.variable,
.token.macro.property {
  color: #333;
}

.token.operator,
.token.important,
.token.keyword,
.token.rule,
.token.builtin {
  color: #a71d5d;
}

.token.string,
.token.url,
.token.regex,
.token.attr-value {
  color: #183691;
}

.token.property,
.token.number,
.token.boolean,
.token.entity,
.token.atrule,
.token.constant,
.token.symbol,
.token.command,
.token.code {
  color: #0086b3;
}

.token.tag,
.token.selector,
.token.prolog {
  color: #63a35c;
}

.token.function,
.token.namespace,
.token.pseudo-element,
.token.class,
.token.class-name,
.token.pseudo-class,
.token.id,
.token.url-reference .token.variable,
.token.attr-name {
  color: #795da3;
}

.token.entity {
  cursor: help;
}

.token.title,
.token.title .token.punctuation {
  font-weight: bold;
  color: #1d3e81;
}

.token.list {
  color: #ed6a43;
}

.token.inserted {
  background-color: #eaffea;
  color: #55a532;
}

.token.deleted {
  background-color: #ffecec;
  color: #bd2c00;
}

.token.bold {
  font-weight: bold;
}

.token.italic {
  font-style: italic;
}


/* JSON */
.language-json .token.property {
  color: #183691;
}

.language-markup .token.tag .token.punctuation {
  color: #333;
}

/* CSS */
code.language-css,
.language-css .token.function {
  color: #0086b3;
}

/* YAML */
.language-yaml .token.atrule {
  color: #63a35c;
}

code.language-yaml {
  color: #183691;
}

/* Ruby */
.language-ruby .token.function {
  color: #333;
}

/* Markdown */
.language-markdown .token.url {
  color: #795da3;
}

/* Makefile */
.language-makefile .token.symbol {
  color: #795da3;
}

.language-makefile .token.variable {
  color: #183691;
}

.language-makefile .token.builtin {
  color: #0086b3;
}

/* Bash */
.language-bash .token.keyword {
  color: #0086b3;
}html body{font-family:"Helvetica Neue",Helvetica,"Segoe UI",Arial,freesans,sans-serif;font-size:16px;line-height:1.6;color:#333;background-color:#fff;overflow:initial;box-sizing:border-box;word-wrap:break-word}html body>:first-child{margin-top:0}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{line-height:1.2;margin-top:1em;margin-bottom:16px;color:#000}html body h1{font-size:2.25em;font-weight:300;padding-bottom:.3em}html body h2{font-size:1.75em;font-weight:400;padding-bottom:.3em}html body h3{font-size:1.5em;font-weight:500}html body h4{font-size:1.25em;font-weight:600}html body h5{font-size:1.1em;font-weight:600}html body h6{font-size:1em;font-weight:600}html body h1,html body h2,html body h3,html body h4,html body h5{font-weight:600}html body h5{font-size:1em}html body h6{color:#5c5c5c}html body strong{color:#000}html body del{color:#5c5c5c}html body a:not([href]){color:inherit;text-decoration:none}html body a{color:#08c;text-decoration:none}html body a:hover{color:#00a3f5;text-decoration:none}html body img{max-width:100%}html body>p{margin-top:0;margin-bottom:16px;word-wrap:break-word}html body>ul,html body>ol{margin-bottom:16px}html body ul,html body ol{padding-left:2em}html body ul.no-list,html body ol.no-list{padding:0;list-style-type:none}html body ul ul,html body ul ol,html body ol ol,html body ol ul{margin-top:0;margin-bottom:0}html body li{margin-bottom:0}html body li.task-list-item{list-style:none}html body li>p{margin-top:0;margin-bottom:0}html body .task-list-item-checkbox{margin:0 .2em .25em -1.8em;vertical-align:middle}html body .task-list-item-checkbox:hover{cursor:pointer}html body blockquote{margin:16px 0;font-size:inherit;padding:0 15px;color:#5c5c5c;border-left:4px solid #d6d6d6}html body blockquote>:first-child{margin-top:0}html body blockquote>:last-child{margin-bottom:0}html body hr{height:4px;margin:32px 0;background-color:#d6d6d6;border:0 none}html body table{margin:10px 0 15px 0;border-collapse:collapse;border-spacing:0;display:block;width:100%;overflow:auto;word-break:normal;word-break:keep-all}html body table th{font-weight:bold;color:#000}html body table td,html body table th{border:1px solid #d6d6d6;padding:6px 13px}html body dl{padding:0}html body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:bold}html body dl dd{padding:0 16px;margin-bottom:16px}html body code{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;font-size:.85em !important;color:#000;background-color:#f0f0f0;border-radius:3px;padding:.2em 0}html body code::before,html body code::after{letter-spacing:-0.2em;content:"\00a0"}html body pre>code{padding:0;margin:0;font-size:.85em !important;word-break:normal;white-space:pre;background:transparent;border:0}html body .highlight{margin-bottom:16px}html body .highlight pre,html body pre{padding:1em;overflow:auto;font-size:.85em !important;line-height:1.45;border:#d6d6d6;border-radius:3px}html body .highlight pre{margin-bottom:0;word-break:normal}html body pre code,html body pre tt{display:inline;max-width:initial;padding:0;margin:0;overflow:initial;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}html body pre code:before,html body pre tt:before,html body pre code:after,html body pre tt:after{content:normal}html body p,html body blockquote,html body ul,html body ol,html body dl,html body pre{margin-top:0;margin-bottom:16px}html body kbd{color:#000;border:1px solid #d6d6d6;border-bottom:2px solid #c7c7c7;padding:2px 4px;background-color:#f0f0f0;border-radius:3px}@media print{html body{background-color:#fff}html body h1,html body h2,html body h3,html body h4,html body h5,html body h6{color:#000;page-break-after:avoid}html body blockquote{color:#5c5c5c}html body pre{page-break-inside:avoid}html body table{display:table}html body img{display:block;max-width:100%;max-height:100%}html body pre,html body code{word-wrap:break-word;white-space:pre}}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview .pagebreak,.markdown-preview .newpage{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center !important}.markdown-preview:not([for="preview"]) .code-chunk .btn-group{display:none}.markdown-preview:not([for="preview"]) .code-chunk .status{display:none}.markdown-preview:not([for="preview"]) .code-chunk .output-div{margin-bottom:16px}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0}@media screen and (min-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px)}}@media screen and (max-width:914px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode]) .markdown-preview{font-size:14px !important;padding:1em}}@media print{html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for="html-export"]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,0.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,0.66);border:4px solid rgba(150,150,150,0.66);background-clip:content-box}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{padding:0 1.6em;margin-top:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc li{margin-bottom:.8em}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc ul{list-style-type:none}html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% -  300px);padding:2em calc(50% - 457px -  150px);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for="html-export"]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for="html-export"]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
 
      </style>
    </head>
    <body for="html-export">
      <div class="mume markdown-preview   ">
      <ul>
<li><a href="#javaweb">javaweb</a>
<ul>
<li><a href="#%E6%A6%82%E8%BF%B0">概述：</a></li>
<li><a href="#javabean">javaBean</a></li>
<li><a href="#jsp">jsp</a>
<ul>
<li><a href="#1%E6%A6%82%E8%BF%B0">1.概述：</a></li>
<li><a href="#2jsp%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BD%BF%E7%94%A8">2.jsp原理及使用：</a>
<ul>
<li><a href="#1jsp%E5%AE%B9%E5%99%A8">1.jsp容器：</a></li>
<li><a href="#2jsp%E7%9A%84%E5%A4%84%E7%90%86">2.jsp的处理：</a></li>
<li><a href="#3jsp%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">3.jsp生命周期：</a></li>
<li><a href="#4jsp%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8">4.jsp的简单使用：</a></li>
</ul>
</li>
<li><a href="#3jsp%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">3.jsp的基本语法：</a>
<ul>
<li><a href="#1%E5%B5%8C%E5%85%A5java%E4%BB%A3%E7%A0%81%E8%84%9A%E6%9C%AC%E4%BB%A3%E7%A0%81">1.嵌入Java代码（脚本代码）：</a></li>
<li><a href="#2jsp%E8%A1%A8%E8%BE%BE%E5%BC%8F">2.jsp表达式：</a></li>
<li><a href="#3jsp%E6%B3%A8%E9%87%8A">3.jsp注释：</a></li>
<li><a href="#4jsp%E6%8C%87%E4%BB%A4%E6%A0%87%E7%AD%BE%E6%B3%A8%E6%84%8F-~~-%E4%B8%AD%E4%B8%8E%E4%B8%8D%E8%83%BD%E5%88%86%E7%A6%BB-%E5%B1%9E%E6%80%A7%E5%80%BC%E4%B8%8D%E8%83%BD%E4%BB%A5-%E5%8F%B7%E7%BB%93%E5%B0%BE">4.jsp指令标签（注意：&lt;%@ ~~ %&gt;中@与%不能分离 ，属性值不能以';' 号结尾）：</a>
<ul>
<li><a href="#1-page%E6%8C%87%E4%BB%A4">1. page指令：</a></li>
<li><a href="#2-include%E6%8C%87%E4%BB%A4">2. Include指令</a></li>
<li><a href="#3-taglib%E6%8C%87%E4%BB%A4">3. Taglib指令</a></li>
</ul>
</li>
<li><a href="#5jsp%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF%E8%87%AA%E8%A1%8C%E7%99%BE%E5%BA%A6">5.jsp动作标签(更多信息，自行百度)：</a>
<ul>
<li><a href="#1-lt-jspinclude-gt%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE">1. &lt; jsp:include &gt;动作标签：</a></li>
<li><a href="#2-lt-jspusebean-gt%E5%8A%A8%E4%BD%9C%E5%85%83%E7%B4%A0">2. &lt; jsp:useBean &gt;动作元素</a></li>
<li><a href="#3-jspsetproperty-jspgetproperty%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE">3.  jsp:setProperty,  jsp:getProperty动作标签:</a></li>
<li><a href="#4lt-jspforward-gt%E5%8A%A8%E4%BD%9C%E5%85%83%E7%B4%A0">4.&lt; jsp:forward &gt;动作元素</a></li>
<li><a href="#5lt-jspparam-gt%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE">5.&lt; jsp:param &gt;动作标签</a></li>
</ul>
</li>
<li><a href="#6jsp%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1">6.jsp九大内置对象：</a>
<ul>
<li><a href="#1out-%E8%BE%93%E5%87%BA%E5%AF%B9%E8%B1%A1">1.out 输出对象：</a></li>
<li><a href="#2request-%E8%AF%B7%E6%B1%82%E5%AF%B9%E8%B1%A1">2.request 请求对象</a></li>
<li><a href="#3response-%E5%93%8D%E5%BA%94%E5%AF%B9%E8%B1%A1">3.response 响应对象</a></li>
<li><a href="#4session-%E4%BC%9A%E8%AF%9D%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE">4.session 会话对象（在同一个浏览器中共享数据）</a></li>
<li><a href="#5application%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE">5.application对象（在同一个应用程序中共享数据）</a></li>
<li><a href="#6page%E5%AF%B9%E8%B1%A1">6.page对象</a></li>
<li><a href="#7pagecontent%E5%AF%B9%E8%B1%A1%E5%BE%88%E5%B0%91%E4%BD%BF%E7%94%A8">7.pageContent对象（很少使用）</a></li>
<li><a href="#8config-%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96webxml-%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF">8.config 对象（获取web.xml 配置信息）</a></li>
<li><a href="#9exception%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96%E5%BC%82%E5%B8%B8%E4%BF%A1%E6%81%AF">9.exception对象（获取异常信息）</a></li>
<li><a href="#%E8%A1%A5%E5%85%85">补充：</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#4jsp%E4%B8%8Ejavabean%E7%9A%84%E6%B7%B7%E5%90%88">4.jsp与javaBean的混合：</a></li>
</ul>
</li>
<li><a href="#servlet%E7%BB%A7%E6%89%BF%E5%AE%9E%E7%8E%B0%E4%BA%86servlet%E6%8E%A5%E5%8F%A3%E7%9A%84java%E7%B1%BB">Servlet（继承，实现了Servlet接口的，Java类）</a>
<ul>
<li><a href="#1%E6%A6%82%E8%BF%B0-1">1.概述：</a></li>
<li><a href="#2-%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB">2. 原理与继承关系：</a></li>
<li><a href="#3%E5%88%9B%E5%BB%BAservlet%E4%B8%8E%E9%85%8D%E7%BD%AEservlet%E6%8A%8Aservlet%E5%AF%B9%E8%B1%A1%E6%B3%A8%E5%85%A5%E5%88%B0servlet%E5%AE%B9%E5%99%A8%E4%B8%AD">3.创建Servlet,与配置Servlet（把servlet对象注入到Servlet容器中）：</a></li>
<li><a href="#4servlet%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">4.servlet的生命周期：</a></li>
<li><a href="#5servlet%E7%BC%96%E5%86%99%E8%BF%87%E6%BB%A4%E5%99%A8filter-%E8%BF%87%E6%BB%A4%E5%99%A8">5.servlet编写过滤器（Filter 过滤器）：</a></li>
<li><a href="#6servlet-%E5%AF%B9%E4%BA%8E%E5%BC%82%E5%B8%B8%E7%9A%84%E5%A4%84%E7%90%86">6.servlet 对于异常的处理：</a></li>
</ul>
</li>
<li><a href="#el%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E4%B8%8E-jstl%E6%A0%87%E7%AD%BE%E5%BA%93">EL表达式 与 JSTL标签库：</a>
<ul>
<li><a href="#1el%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E8%A8%80epression-language">1.EL(表达式语言，Epression Language)</a></li>
<li><a href="#2jstl">2.JSTL</a></li>
</ul>
</li>
<li><a href="#jdbc">JDBC</a>
<ul>
<li><a href="#1jdbcl%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%BA%E4%BE%8B">1.jdbcl连接数据库，以mysql数据库为例：</a></li>
<li><a href="#2statement-%E6%8E%A5%E5%8F%A3%E4%B8%8Epreparedstatement%E6%8E%A5%E5%8F%A3">2.Statement 接口与PreparedStatement接口:</a>
<ul>
<li><a href="#1statement-%E6%8E%A5%E5%8F%A3">1.Statement 接口：</a></li>
<li><a href="#2preparedstatement-%E6%8E%A5%E5%8F%A3">2.PreparedStatement 接口：</a></li>
</ul>
</li>
<li><a href="#3%E7%BB%93%E6%9E%9C%E9%9B%86resultset%E6%8E%A5%E5%8F%A3%E6%8F%90%E4%BE%9B%E6%8C%87%E9%92%88%E5%8A%9F%E8%83%BD">3.结果集ResultSet接口（提供指针功能）:</a></li>
<li><a href="#4%E4%BE%8B%E5%AD%90jdbc-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93">4.例子：jdbc 操作数据库:</a></li>
</ul>
</li>
<li><a href="#javaweb-%E5%AE%9E%E7%8E%B0crud%E7%9A%84%E4%BE%8B%E5%AD%90%E5%95%86%E5%93%81%E8%A1%A8%E8%AE%A2%E5%8D%95%E8%A1%A8">Javaweb 实现CRUD的例子（商品表，订单表）：</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">参考资料：</a></li>
</ul>
</li>
</ul>
<h1 class="mume-header" id="javaweb">javaweb</h1>

<h2 class="mume-header" id="%E6%A6%82%E8%BF%B0">概述：</h2>

<p>  Java Web，是用Java技术来解决相关web互联网领域的技术总和。web包括：web服务器和web客户端两部分。Java在客户端的应用有java applet，不过使用得很少，Java在服务器端的应用非常的丰富，比如Servlet，JSP和第三方框架等等。Java技术对Web领域的发展注入了强大的动力。</p>
<p>  Java的Web框架虽然各不相同，但基本也都是遵循特定的路数的：<font color="red">使用Servlet或者Filter拦截请求，使用MVC的思想设计架构，使用约定，XML或 Annotation实现配置，运用Java面向对象的特点，面向对象实现请求和响应的流程，</font>支持Jsp，Freemarker，Velocity等视图。</p>
<h2 class="mume-header" id="javabean">javaBean</h2>

<p>  javabean是一种带有特定写法的java类。<br>
具有一些规范：<br>
①：公共无参构造方法<br>
②: 私有类型属性<br>
③：公共类型属性的getter / setter 方法<br>
④：Javabean应该直接或间接实现 java.io.Serializable 接口，以支持序列化接口。</p>
<p><font color="red">建议javabean 属性的命名 使用驼峰命名法。</font></p>
<p><font color="blue">驼峰命名法：</font><br>
  <strong>第一个单词首字母小写，之后每个单词的首字母大写。例如：userName,myFirstName 等</strong></p>
<h2 class="mume-header" id="jsp">jsp</h2>

<h3 class="mume-header" id="1%E6%A6%82%E8%BF%B0">1.概述：</h3>

<p>  JSP全名为Java Server Pages，中文名叫java服务器页面，其根本是一个简化的Servlet设计.<font color="blue">它是一种动态网页技术标准</font>。JSP技术有点类似ASP技术，<font color="red">它是在传统的网页HTML文件中插入Java程序段和JSP标记(tag)，从而形成JSP文件，后缀名为(*.jsp)。</font></p>
<ol>
<li>它使用JSP标签在HTML网页中插入Java代码。标签通常以&lt;%开头以%&gt;结束。</li>
<li>JSP通过网页表单获取用户输入数据、访问数据库及其他数据源，然后动态地创建网页。</li>
<li>JSP标签有多种功能，比如访问数据库、记录用户选择信息、访问JavaBeans组件等，还可以在不同的网页中传递控制信息和共享信息。</li>
</ol>
<h3 class="mume-header" id="2jsp%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BD%BF%E7%94%A8">2.jsp原理及使用：</h3>

<h4 class="mume-header" id="1jsp%E5%AE%B9%E5%99%A8">1.jsp容器：</h4>

<p>  网络服务器需要一个JSP引擎，也就是一个容器来处理JSP页面。容器负责截获对JSP页面的请求。</p>
<p>本教程使用<font color="red">内嵌JSP容器的Apache</font>来支持JSP开发。<br>
JSP容器与Web服务器协同合作，为JSP的正常运行提供必要的运行环境和其他服务，并且能够正确识别专属于JSP网页的特殊元素。</p>
<p>下图显示了JSP容器和JSP文件在Web应用中所处的位置。</p>
<p><img src="../img/javaweb_img/1.png" alt="&#x56FE;1"></p>
<h4 class="mume-header" id="2jsp%E7%9A%84%E5%A4%84%E7%90%86">2.jsp的处理：</h4>

<p>以下步骤表明了Web服务器是如何使用JSP来创建网页的：</p>
<ol>
<li>就像其他普通的网页一样，您的浏览器发送一个HTTP请求给服务器。</li>
<li>Web服务器识别出这是一个对JSP网页的请求，并且将该请求传递给内部的JSP引擎。通过使用URL或者.jsp文件来完成。</li>
<li>JSP引擎从磁盘中载入JSP文件，然后将它们<font color="red">转化为servlet。这种转化只是简单地将所有模板文本改用println()语句，并且将所有的JSP元素转化成Java代码。</font></li>
<li>JSP引擎将servlet编译成可执行类，并且将原始请求传递给servlet引擎。</li>
<li>Web服务器的某组件将会调用servlet引擎，然后载入并执行servlet类。在执行过程中，servlet产生HTML格式的输出并将其内嵌于HTTP response中上交给Web服务器。</li>
<li><font color="red">Web服务器以静态HTML网页的形式将HTTP response返回到您的浏览器中。</font></li>
<li>最终，Web浏览器处理HTTP response中动态产生的HTML网页，就好像在处理静态网页一样。</li>
</ol>
<p>以上提及到的步骤可以用下图来表示：</p>
<p><img src="../img/javaweb_img/2.png" alt="&#x56FE;2"></p>
<h4 class="mume-header" id="3jsp%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">3.jsp生命周期：</h4>

<p>JSP生命周期就是从创建到销毁的整个过程，类似于servlet生命周期，区别在于JSP生命周期还包括将JSP文件编译成servlet。</p>
<p>以下是JSP生命周期中所走过的几个阶段：</p>
<ol>
<li>编译阶段：<br>
servlet容器编译servlet源文件，生成servlet类</li>
<li>初始化阶段：<br>
加载与JSP对应的servlet类，创建其实例，并调用它的初始化方法</li>
<li>执行阶段：<br>
调用与JSP对应的servlet实例的服务方法</li>
<li>销毁阶段：<br>
调用与JSP对应的servlet实例的销毁方法，然后销毁servlet实例.</li>
</ol>
<p><strong>JSP初始化：</strong></p>
<p>容器载入JSP文件后，它会在为请求提供任何服务前调用jspInit()方法。如果您需要执行自定义的JSP初始化任务，复写jspInit()方法就行了，就像下面这样：</p>
<pre class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">jspInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment" spellcheck="true">// 初始化代码</span>
<span class="token punctuation">}</span>
</pre>
<p><font color="red">通常情况下您可以在jspInit()方法中初始化数据库连接、打开文件和查询数据表。</font></p>
<p><strong>JSP销毁：</strong></p>
<p>JSP生命周期的销毁阶段描述了当一个JSP网页从容器中被移除时所发生的一切。<br>
jspDestroy()方法在JSP中等价于servlet中的销毁方法。当您需要执行任何清理工作时复写jspDestroy()方法，比如释放数据库连接或者关闭文件夹等等。<br>
jspDestroy()方法：</p>
<pre class="language-java"><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">jspDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true">// 清理代码</span>
<span class="token punctuation">}</span>
</pre>
<h4 class="mume-header" id="4jsp%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8">4.jsp的简单使用：</h4>

<ol>
<li>安装Tomcat 服务器（jsp 引擎/jsp 容器）并配置：<br>
详细过程自己百度。<br>
<br></li>
<li>把eclipse 与 tomcat 关联。<br>
<br></li>
<li>在eclipse中创建动态web 项目工程(&quot;File--&gt;New--&gt;Dynamic Web Project&quot;)，并选择运行环境为之前安装的tomcat 服务器 与 JDK。<br>
<font color="red">注意:在下一步中勾选生成 web.xml 文件.</font><br>
详细过程自己百度。<br>
<br></li>
<li>工程目录(<strong>使用的eclipse 的 氧气 版本,不同版本的工程目录可能有所差别</strong>)：<br>
<img src="../img/javaweb_img/jsp_3.png" alt="jsp_3.png"></li>
</ol>
<p>上图中各个目录解析：<br>
deployment descriptor：部署的描述。<br>
lib：<strong>自己需要的jar包可以放在里面，eclipse会自动加入到类路径。</strong><br>
build：放入编译之后的文件。<br>
WebContent:放进写入的jsp页面。</p>
<ol start="5">
<li>在jsp页面写上html 标签</li>
</ol>
<pre class="language-jsp">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
    pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;h2&gt;this is  h2 title&lt;/h2&gt;
	&lt;span style=&quot;color:red&quot;&gt;this is red code&lt;/span&gt;
&lt;/body&gt;
&lt;/html&gt;
</pre>
<ol start="6">
<li>启动tomcat 服务器，在浏览器 输入网址：<a href="http://localhost:8080/">http://localhost:8080/</a> 项目工程名 / jsp页面名称.jsp 。<br>
<br></li>
<li>效果图：<br>
<img src="../img/javaweb_img/jsp_4.png" alt="jsp_4.png"></li>
</ol>
<h3 class="mume-header" id="3jsp%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">3.jsp的基本语法：</h3>

<h4 class="mume-header" id="1%E5%B5%8C%E5%85%A5java%E4%BB%A3%E7%A0%81%E8%84%9A%E6%9C%AC%E4%BB%A3%E7%A0%81">1.嵌入Java代码（脚本代码）：</h4>

<p>在jsp页面可以嵌入Java的代码段来完成业务处理。<br>
语法格式：<br>
<code>&lt;% 编写Java代码 %&gt;</code></p>
<ol>
<li>打印九九乘法表：</li>
</ol>
<pre class="language-jsp">&lt;body&gt;
  &lt;%
  	for(int i=0;i&lt;10;i++){
  		for(int j=0;j&lt;=i;j++){
  			String s=j+&quot; * &quot;+i+&quot; = &quot;+i*j;
  			out.print(s+&quot;    &quot;);    //&#x6BCF;&#x4E2A;&#x5F0F;&#x5B50;&#x6709;&#x7A7A;&#x683C;
  		}
  		out.print(&quot;&lt;br/&gt;&quot;);
  	}
  
  %&gt;
&lt;/body&gt; 
</pre>
<p>结果：<br>
0 * 0 = 0<br>
0 * 1 = 0 1 * 1 = 1<br>
0 * 2 = 0 1 * 2 = 2 2 * 2 = 4<br>
0 * 3 = 0 1 * 3 = 3 2 * 3 = 6 3 * 3 = 9<br>
0 * 4 = 0 1 * 4 = 4 2 * 4 = 8 3 * 4 = 12 4 * 4 = 16<br>
0 * 5 = 0 1 * 5 = 5 2 * 5 = 10 3 * 5 = 15 4 * 5 = 20 5 * 5 = 25<br>
0 * 6 = 0 1 * 6 = 6 2 * 6 = 12 3 * 6 = 18 4 * 6 = 24 5 * 6 = 30 6 * 6 = 36<br>
0 * 7 = 0 1 * 7 = 7 2 * 7 = 14 3 * 7 = 21 4 * 7 = 28 5 * 7 = 35 6 * 7 = 42 7 * 7 = 49<br>
0 * 8 = 0 1 * 8 = 8 2 * 8 = 16 3 * 8 = 24 4 * 8 = 32 5 * 8 = 40 6 * 8 = 48 7 * 8 = 56 8 * 8 = 64<br>
0 * 9 = 0 1 * 9 = 9 2 * 9 = 18 3 * 9 = 27 4 * 9 = 36 5 * 9 = 45 6 * 9 = 54 7 * 9 = 63 8 * 9 = 72 9 * 9 = 81</p>
<ol start="2">
<li>判断语句：</li>
</ol>
<pre class="language-">&lt;%!int day = 3;%&gt;
	
  &lt;%
  if (day == 1 | day == 7) {
	%&gt;
	
  &lt;p&gt;Today is weekend&lt;/p&gt;
	
  &lt;%
	} else {
	%&gt;
	
  &lt;p&gt;Today is not weekend&lt;/p&gt;
	
  &lt;%
		}
	%&gt;
</pre>
<ol start="3">
<li>switch…case块:</li>
</ol>
<pre class="language-jsp">&lt;%  
switch(day) { 
case 0:    
  out.println(&quot;It\&apos;s Sunday.&quot;);    
  break; 
case 1:    
  out.println(&quot;It\&apos;s Monday.&quot;);    
  break; 
case 2:    
  out.println(&quot;It\&apos;s Tuesday.&quot;);    
  break; 
case 3:    
  out.println(&quot;It\&apos;s Wednesday.&quot;);    
  break; 
case 4:    
  out.println(&quot;It\&apos;s Thursday.&quot;);    
  break; 
case 5:    
  out.println(&quot;It\&apos;s Friday.&quot;);    
  break; 
default:    
  out.println(&quot;It&apos;s Saturday.&quot;); 
} 
%&gt;
</pre>
<h4 class="mume-header" id="2jsp%E8%A1%A8%E8%BE%BE%E5%BC%8F">2.jsp表达式：</h4>

<p>  表达式元素中可以包含任何符合Java语言规范的表达式，但是不能使用分号来结束表达式。<br>
  <strong>表达式中的内容先被转化成String，然后插入到表达式出现的地方。</strong><br>
<font color="red">由于表达式的值会被转化成String，所以您可以在一个文本行中使用表达式而不用去管它是否是HTML标签。</font></p>
<p>JSP表达式的语法格式：<br>
&lt;%= 表达式 %&gt;</p>
<p>例子：</p>
<pre class="language-jsp">&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;
    pageEncoding=&quot;UTF-8&quot;%&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD HTML 4.01 Transitional//EN&quot; &quot;http://www.w3.org/TR/html4/loose.dtd&quot;&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;p&gt;   
  Today&apos;s date: &lt;%= (new java.util.Date()).toLocaleString()%&gt;
&lt;/p&gt;
&lt;/body&gt; 
&lt;/html&gt;
</pre>
<p>运行后得到以下结果：<br>
<code>Today's date: 2017-11-30 18:40:35</code></p>
<h4 class="mume-header" id="3jsp%E6%B3%A8%E9%87%8A">3.jsp注释：</h4>

<p>JSP注释的语法格式：</p>
<pre class="language-jsp">&lt;%-- &#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x586B;&#x5199; JSP &#x6CE8;&#x91CA; --%&gt;
</pre>
<br>
<h4 class="mume-header" id="4jsp%E6%8C%87%E4%BB%A4%E6%A0%87%E7%AD%BE%E6%B3%A8%E6%84%8F-~~-%E4%B8%AD%E4%B8%8E%E4%B8%8D%E8%83%BD%E5%88%86%E7%A6%BB-%E5%B1%9E%E6%80%A7%E5%80%BC%E4%B8%8D%E8%83%BD%E4%BB%A5-%E5%8F%B7%E7%BB%93%E5%B0%BE">4.jsp指令标签（注意：&lt;%@ ~~ %&gt;中@与%不能分离 ，属性值不能以';' 号结尾）：</h4>

<p>JSP指令用来设置与整个JSP页面相关的属性。<br>
JSP指令语法格式：</p>
<pre class="language-jsp">&lt;%@ &#x6307;&#x4EE4;&#x540D;&#x79F0; &#x6307;&#x4EE4;&#x5C5E;&#x6027;=&quot;value&quot; %&gt;
</pre>
<p><font color="red">三种指令标签：</font><br>
&lt;%@ page ... %&gt;	: 定义页面的依赖属性，比如脚本语言、error页面、缓存需求等等<br>
&lt;%@ include ... %&gt;	: 包含其他文件<br>
&lt;%@ taglib ... %&gt;	: 引入标签库,jar包的定义，可以是自定义标签。</p>
<h5 class="mume-header" id="1-page%E6%8C%87%E4%BB%A4">1. page指令：</h5>

<p>import 属性：	导入要使用的Java类.<br>
<code>&lt;%@ page import=&quot;java.util.*&quot; %&gt;</code></p>
<p>contentType 属性 ：指定当前JSP页面的MIME类型和字符编码。<br>
errorPage 属性：指定当JSP页面发生异常时需要转向的错误处理页面。<br>
isErrorPage 属性：指定当前页面是否可以作为另一个JSP页面的错误处理页面.</p>
<p>language 属性：定义JSP页面所用的脚本语言，默认是Java。<br>
session 属性：指定JSP页面是否使用session.<br>
~ ~ ~</p>
<h5 class="mume-header" id="2-include%E6%8C%87%E4%BB%A4">2. Include指令</h5>

<p><font color="red">JSP可以通过include指令来包含其他文件。被包含的文件可以是JSP文件、HTML文件或文本文件.</font>包含的文件就好像是该JSP文件的一部分，会被同时编译执行。</p>
<p>Include指令的语法格式如下：<br>
<code>&lt;%@ include file=&quot;url&quot; %&gt;</code></p>
<h5 class="mume-header" id="3-taglib%E6%8C%87%E4%BB%A4">3. Taglib指令</h5>

<p>JSP API允许用户自定义标签，一个自定义标签库就是自定义标签的集合。<br>
<font color="red">Taglib指令引入一个自定义标签集合的定义，包括库路径、自定义标签。</font></p>
<p>Taglib指令的语法：<br>
<code>&lt;%@ taglib url=&quot;url&quot; prefix=&quot;prefixOfTag&quot; %&gt;</code><br>
url属性确定标签库的位置，prefix属性指定被引用的标签库的使用前缀。</p>
<p>例子,引入 jstl 标签库：<br>
<code>&lt;%@ taglib prefix=&quot;c&quot; uri=&quot;http://java.sun.com/jsp/jstl/core&quot; %&gt;</code></p>
<h4 class="mume-header" id="5jsp%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF%E8%87%AA%E8%A1%8C%E7%99%BE%E5%BA%A6">5.jsp动作标签(更多信息，自行百度)：</h4>

<p>JSP动作标签在请求处理阶段起作用。JSP动作标签是用XML语法写成的。</p>
<p>语法：<br>
<code>&lt;jsp:标签名 属性名=&quot;value&quot; /&gt;</code></p>
<p><strong>常用的动作标签如下：</strong></p>
<p>jsp:include	：在页面被请求的时候引入一个文件。<br>
jsp:useBean	：寻找或者实例化一个JavaBean。<br>
jsp:setProperty	：设置JavaBean的属性。<br>
jsp:getProperty	：输出某个JavaBean的属性。<br>
jsp:forward	：把请求转到一个新的页面。</p>
<p><font color="red">所有的动作要素都有两个属性：id属性和scope属性。</font><br>
①：id属性：<br>
id属性是动作元素的唯一标识，可以在JSP页面中引用。动作元素创建的id值可以通过PageContext来调用。<br>
②：scope属性：<br>
该属性用于识别动作元素的生命周期。 id属性和scope属性有直接关系，scope属性定义了相关联id对象的寿命。 scope属性有四个可能的值： (1) page, (2)request, (3)session, 和 (4) application。</p>
<h5 class="mume-header" id="1-lt-jspinclude-gt%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE">1. &lt; jsp:include &gt;动作标签：</h5>

<p>该动作标签用来包含静态和动态的文件。把指定文件插入正在生成的页面。语法格式如下：<br>
<code>&lt;jsp:include page=&quot;URL&quot; flush=&quot;true&quot; /&gt;</code></p>
<p>main.jsp：</p>
<pre class="language-jsp">&lt;%-- flush	&#x5E03;&#x5C14;&#x5C5E;&#x6027;&#xFF0C;&#x5B9A;&#x4E49;&#x5728;&#x5305;&#x542B;&#x76EE;&#x6807;&#x8D44;&#x6E90;&#x524D;&#x662F;&#x5426;&#x5237;&#x65B0;&#x7F13;&#x5B58;&#x533A;&#x3002; --%&gt;
&lt;jsp:include page=&quot;date.jsp&quot; flush=&quot;true&quot; /&gt; 
</pre>
<h5 class="mume-header" id="2-lt-jspusebean-gt%E5%8A%A8%E4%BD%9C%E5%85%83%E7%B4%A0">2. &lt; jsp:useBean &gt;动作元素</h5>

<p>用来装载一个将在JSP页面中使用的JavaBean。<br>
这个功能非常有用，因为它使得我们既可以发挥Java组件重用的优势，同时也避免了损失JSP区别于Servlet的方便性。<br>
jsp:useBean动作最简单的语法为：</p>
<pre class="language-jsp">&lt;%-- class	&#x6307;&#x5B9A;Bean&#x7684;&#x5B8C;&#x6574;&#x5305;&#x540D;&#x3002; --%&gt;
&lt;jsp:useBean id=&quot;name&quot; class=&quot;package.class&quot; /&gt;

</pre>
<p><font color="red">在类载入后，我们既可以通过 jsp:setProperty 和 jsp:getProperty 动作标签来修改和检索bean的属性。</font></p>
<h5 class="mume-header" id="3-jspsetproperty-jspgetproperty%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE">3.  jsp:setProperty,  jsp:getProperty动作标签:</h5>

<p>jsp:getProperty动作提取指定Bean属性的值，转换成字符串，然后输出。<br>
jsp:setProperty用来设置已经实例化的Bean对象的属性.</p>
<p>例子如下：</p>
<pre class="language-jsp">&lt;%--  name	&#x8981;&#x68C0;&#x7D22;&#x7684;Bean&#x5C5E;&#x6027;&#x540D;&#x79F0;&#x3002;Bean&#x5FC5;&#x987B;&#x5DF2;&#x5B9A;&#x4E49;&#x3002;&#x3002;
      property	&#x8868;&#x793A;&#x8981;&#x63D0;&#x53D6;Bean&#x5C5E;&#x6027;&#x7684;&#x503C;.
      class	&#x6307;&#x5B9A;Bean&#x7684;&#x5B8C;&#x6574;&#x5305;&#x540D;&#x3002;
 --%&gt;

&lt;jsp:useBean id=&quot;test&quot; class=&quot;action.TestBean&quot; /&gt;
 
&lt;jsp:setProperty name=&quot;test&quot; property=&quot;message&quot;  value=&quot;Hello JSP...&quot; /&gt;
 
&lt;jsp:getProperty name=&quot;test&quot; property=&quot;message&quot; /&gt;
</pre>
<p>运行结果：</p>
<pre class="language-">Hello JSP...
</pre>
<h5 class="mume-header" id="4lt-jspforward-gt%E5%8A%A8%E4%BD%9C%E5%85%83%E7%B4%A0">4.&lt; jsp:forward &gt;动作元素</h5>

<p>jsp:forward动作把请求转到另外的页面。jsp:forward标记只有一个属性page。<br>
语法格式如下所示：<br>
<code>&lt;jsp:forward page=&quot;URL&quot; /&gt;</code></p>
<h5 class="mume-header" id="5lt-jspparam-gt%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE">5.&lt; jsp:param &gt;动作标签</h5>

<p>用于其他标签的子标签，为其他标签传递参数。</p>
<pre class="language-jsp">&lt;%--
  name : &#x6307;&#x5B9A;&#x53C2;&#x6570;&#x540D;&#x79F0; &#x3002;
  &#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#xFF1A;&#x5728;&#x8F6C;&#x53D1;&#x8BF7;&#x6C42;&#x5230;addUser.jsp &#x9875;&#x9762;&#x7684;&#x540C;&#x65F6;&#xFF0C;&#x4F20;&#x9012;&#x53C2;&#x6570; useName
--%&gt;
&lt;jsp:forward page=&quot;addUser.jsp&quot;&gt;
  &lt;jsp:param name=&quot;userName&quot; value=&quot;xiaoming&quot;&gt;
&lt;/jsp:forward&gt;

</pre>
<h4 class="mume-header" id="6jsp%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1">6.jsp九大内置对象：</h4>

<p><font color="red">在任何一个jsp 页面中，都包含了输出，请求，回应，应用上下文 ，异常处理 等一些概念</font>，jsp把这些具有公共特性的功能抽象，封装为一个个jsp的内置对象。</p>
<p>内置对象：是JSP容器为每个页面提供的Java对象，开发者可以直接使用它们而不用显式声明。</p>
<h5 class="mume-header" id="1out-%E8%BE%93%E5%87%BA%E5%AF%B9%E8%B1%A1">1.out 输出对象：</h5>

<p>在jsp的java代码段中。主要用于向客户端的浏览器输出信息。</p>
<pre class="language-jsp">&lt;%
out.print(&quot;i am jsp&quot;);
out.println(&quot;i am jsp&quot;);
%&gt;

</pre>
<h5 class="mume-header" id="2request-%E8%AF%B7%E6%B1%82%E5%AF%B9%E8%B1%A1">2.request 请求对象</h5>

<p>request对象是javax.servlet.http.HttpServletRequest 类的实例。</p>
<p>request对象提供了一系列方法来获取客户端请求的HTTP头信息，cookies，HTTP方法等等。</p>
<ol>
<li>获取请求参数：<br>
  在一次请求中，可以在URL上通过使用' ? ' 的方式来传递参数。后通过request 对象的getParameter() 方法获取参数的值。</li>
</ol>
<pre class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>a.jsp?id<span class="token punctuation">=</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
</pre>
<p>a.jsp :</p>
<pre class="language-jsp">&lt;%
String id=request.getParameter(&quot;id&quot;);
%&gt;
&lt;%-- &#x8FD4;&#x56DE;&#x6B64;request&#x4E2D;id&#x6307;&#x5B9A;&#x7684;&#x53C2;&#x6570;&#x7684;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x82E5;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE;null --%&gt;
</pre>
<ol start="2">
<li>获取form 表单的信息：<br>
<font color="red">form表单的复选框，下拉列表框中被选定的值，要使用 request 对象的getParameterValues() 方法获取被选中参数的值。</font>其他表单组件可以用getParameter() 方法获取参数的值。</li>
</ol>
<pre class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>main.jsp<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--
  爱好复选框 
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>like<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Maths<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> Maths
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>like<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Physics<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> Physics
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>like<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Chemistry<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> Chemistry
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>提交<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>

</pre>
<pre class="language-jsp">&lt;!--
  &#x83B7;&#x53D6;&#x591A;&#x4E2A;&#x590D;&#x9009;&#x6846;&#x7684;&#x503C;&#x3002;

--&gt;
String[] like=request.getParameterValues(&quot;like&quot;);

</pre>
<ol start="3">
<li>获取请求客户端的信息（<strong>自行百度</strong>）<br>
<br></li>
<li>在作用域中管理属性：<br>
通过使用 <font color="red">setAttribute() </font>方法可以在 request 对象的属性列表中添加一个属性，然后在request 对象中的作用域中使用它。用 <font color="red">getAttribute() </font>方法将属性取出。用 <font color="red">removeAttribute() </font>方法把属性删除。</li>
</ol>
<pre class="language-jsp">&lt;body&gt;
&lt;%
  request.setAttribute(&quot;time&quot;,new Date());  //&#x5728;request&#x5BF9;&#x8C61;&#x4E2D;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5C5E;&#x6027; time&#xFF0C;&#x5C5E;&#x6027;&#x503C;&#x4E3A;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x65F6;&#x95F4;&#x3002;

%&gt;

&#x83B7;&#x53D6;time &#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF1A;&lt;%=request.getAttribute(&quot;time&quot;) %&gt;
&lt;!--&#x5220;&#x9664;&#x5C5E;&#x6027; time --&gt;
&lt;%
request.removeAttribute(&quot;time&quot;);
%&gt;
&#x518D;&#x6B21;&#x83B7;&#x53D6;time &#x7684;&#x5C5E;&#x6027;&#x503C;&#xFF1A;&lt;%=request.getAttribute(&quot;time&quot;) %&gt;
&lt;/body&gt;
</pre>
<p><font color="red">注意：设置的属性超出request作用域就失效。</font></p>
<ol start="5">
<li>解决中文乱码问题：<br>
在通过request 对象请求参数时，若参数值为中文，则有可能 获取的参数值为乱码。</li>
</ol>
<p>①：若在获取请求参数时乱码：</p>
<pre class="language-jsp">String usrename=new String(request.getParameter(&quot;username&quot;).getBytes(&quot;iso-8859-1&quot;),&quot;UTF-8&quot;)
</pre>
<p>②：获取表单提交的数据为乱码：<br>
设置jsp页面的编码格式为utf-8。</p>
<pre class="language-jsp">
&lt;%
request.setCharacterEncoding(&quot;UTF-8&quot;);   //&#x6CE8;&#x610F;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;&#x8981;&#x5728;&#x9875;&#x9762;&#x4E0A;&#x6CA1;&#x6709;&#x8C03;&#x7528;&#x4EFB;&#x4F55;request&#x5BF9;&#x8C61;&#x7684;&#x65B9;&#x6CD5;&#x4E2D;&#x4F7F;&#x7528;&#x3002;
%&gt;
</pre>
<h5 class="mume-header" id="3response-%E5%93%8D%E5%BA%94%E5%AF%B9%E8%B1%A1">3.response 响应对象</h5>

<p><font color="red">用于响应客户请求，向客户端输出信息</font></p>
<ol>
<li>重定向网页：<br>
通过使用该对象的 sendRedirect() 方法，把原先的目标网页重定向到另一个网页。<font color="red">重定向可以把地址重新定向到不同的主机上，用户可以从浏览器上看到跳转后的地址。并且在重定向操作后，request 中的属性失效，并且进入一个新的request 对象。</font></li>
</ol>
<p><code>response.sendRedirect(&quot;http://www.baidu.com&quot;);</code><br>
<strong>URL可以是相对路径或绝对路径。</strong></p>
<p><font color="red">在该方法后面，不要继续存在脚本代码。因为重定向后，进入另一个页面，原先页面的脚本代码没有用处，可能还会产生异常。</font></p>
<ol start="2">
<li>处理HTTP文件头信息：<br>
setHeader(String headname,String value) 方法同过两个参数————头名称 和 参数值 来设置HTTP 文件头信息。</li>
</ol>
<pre class="language-jsp">&lt;%

response.setHeader(&quot;refresh&quot;,&quot;5&quot;);  //&#x8BBE;&#x7F6E;&#x7F51;&#x9875;&#x6BCF;5&#x79D2;&#x5237;&#x65B0;&#x4E00;&#x6B21;
response.setHeader(&quot;refresh&quot;,&quot;2;URL=aa.jsp&quot;);  //&#x8BBE;&#x7F6E;2&#x79D2;&#x540E;&#xFF0C;&#x81EA;&#x52A8;&#x8DF3;&#x8F6C;&#x5230; aa.jsp&#x9875;&#x9762;&#x3002;

%&gt;

</pre>
<ol start="3">
<li>设置页面响应类型：<br>
默认情况下，jsp页面的内容类型是 text/html,就是html或文本数据，此值不是固定的。<br>
<code>response.setContentType(&quot;text/html&quot;);</code></li>
</ol>
<p>可选值有：text/html , application/x_msexcel , application/msword ,.....</p>
<br>
<h5 class="mume-header" id="4session-%E4%BC%9A%E8%AF%9D%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE">4.session 会话对象（在同一个浏览器中共享数据）</h5>

<p><strong>由于HTTP协议是一种无状态协议（客户发出请求，服务器接受请求并响应，一个流程就结束。）服务器无法一直保存请求响应信息。而session 对象用于保存该类信息。</strong></p>
<p><font color="red">session 对象内部使用Map类来保存数据，数据格式为“ key / value”</font>.</p>
<ol>
<li>创建及获取session 信息：<br>
setAttribute(String key,Object obj)方法：用于把信息保存到session 范围中。<br>
getAttribute(String key)方法，用于获取session范围的信息。</li>
</ol>
<pre class="language-jsp">&lt;%
String s=&quot;i am session&quot;;
session.setAttribute(&quot;ms&quot;,s);

out.println(session.getAttribute(&quot;ms&quot;));
%&gt;
</pre>
<ol start="2">
<li>设置session的有效时间：</li>
</ol>
<p><font color="red">注意：如果客户端长期不向服务器发送请求，session对象会消失。session在服务器的默认存储时间为30 分钟。超过30分钟，session 存储的信息失效，此时调用getAttribute（） 方法，会产生异常。 </font></p>
<p><code>session.setMaxInactiveInterval(10000);</code><br>
可以通过手动设置session的有效时间。</p>
<ol start="3">
<li>移除session中的对象，手动销毁session对象。</li>
</ol>
<p>removeAttribute(String key) 方法 ： 移除存储在session的对象。</p>
<p><code>session.removeAttribute(&quot;ms&quot;); //若移除的session已经失效，报异常。</code></p>
<p>invalidate()方法，删除session 对象。</p>
<p><code>session.invalidate();</code><br>
<font color="red">若session对象 销毁后，在调用该session对象，则产生异常。</font></p>
<h5 class="mume-header" id="5application%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE">5.application对象（在同一个应用程序中共享数据）</h5>

<p>  application对象的信息保存在服务器中，直到服务器关闭，否则 application对象保存的信息都有效。与session 对象相比 application 对象生命期更长，相当于系统的 “全局变量”。</p>
<ol>
<li>application 中数据的操作：</li>
</ol>
<pre class="language-jsp">&lt;%
application.setAttribute(String name,Object obj);  //&#x521B;&#x5EFA;&#x4E00;&#x4E2A;application &#x8303;&#x56F4;&#x5185;&#x6709;&#x6548;&#x7684;&#x5C5E;&#x6027;&#x3002;

application.getAttribute(String name);  //&#x83B7;&#x53D6;application &#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x3002;

application.getAttributeNames();    //&#x83B7;&#x53D6;application &#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x5C5E;&#x6027;&#xFF1B;

application.removeAttribute(String name);   //&#x628A;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x4ECE;application&#x5BF9;&#x8C61;&#x4E2D;&#x79FB;&#x9664;&#x3002;

%&gt;

</pre>
<ol start="2">
<li>例子（实现网页计数的功能，记录网页的来访数量）</li>
</ol>
<pre class="language-jsp">&lt;body&gt;
&lt;%

Integer a=(Integer)application.getAttribute(&quot;visitorCount&quot;); //&#x83B7;&#x53D6;&#x5F53;&#x524D;&#x8BBF;&#x5BA2;&#x6570;&#x91CF;

if(a==null){       //&#x5982;&#x679C;&#x5F53;&#x524D;&#x8BBF;&#x5BA2;&#x6570;&#x91CF;&#x4E3A; null&#xFF0C;&#x8868;&#x793A;&#x4E3A;&#x7B2C;&#x4E00;&#x4E2A;&#x8BBF;&#x5BA2;
	a=1;
}else{
	a++;
}

application.setAttribute(&quot;visitorCount&quot;,a);   //&#x628A;&#x6700;&#x65B0;&#x7684;&#x8BBF;&#x5BA2;&#x6570;&#x91CF; &#x8BBE;&#x4E3A;applciation&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#xFF0C;&#x4F7F;&#x5F97;&#x9875;&#x9762;&#x5171;&#x4EAB;&#x8FD9;&#x4E2A;&#x6570;&#x636E;

%&gt;
&lt;p&gt;&#x7B2C;&lt;%=a %&gt;&#x4F4D;&#x8BBF;&#x5BA2;&lt;/p&gt; 
&lt;/body&gt;
</pre>
<h5 class="mume-header" id="6page%E5%AF%B9%E8%B1%A1">6.page对象</h5>

<p>page对象代表jsp页面本身，只在jsp页面内有效。类似于Java类中的this关键字。</p>
<p>方法：</p>
<pre class="language-jsp">
&lt;%
page.getClass();       //&#x8FD4;&#x56DE;&#x5F53;&#x524D;Object&#x7684;&#x7C7B;
page.hashCode();       //&#x8FD4;&#x56DE;Object&#x7684;&#x54C8;&#x5E0C;&#x7801;&#xFF1B;
page.toString();       //&#x8F6C;&#x6362;&#x6210;&#x5B57;&#x7B26;&#x4E32;
page.equals(Object obj);    //&#x6BD4;&#x8F83;
%&gt;

</pre>
<h5 class="mume-header" id="7pagecontent%E5%AF%B9%E8%B1%A1%E5%BE%88%E5%B0%91%E4%BD%BF%E7%94%A8">7.pageContent对象（很少使用）</h5>

<p>pageContent对象的创建与初始化都有容器完成。可以通过该对象可以获得jsp 页面的其他内置对象。很少使用，因为通过pageContent对象调用其它对象很麻烦。</p>
<pre class="language-jsp">&lt;%
 pageContent.getRequest();  //&#x83B7;&#x53D6;request &#x5BF9;&#x8C61;
 pageContent.getsession();  //&#x83B7;&#x53D6;session&#x5BF9;&#x8C61;
 ~ ~ ~


%&gt;

</pre>
<h5 class="mume-header" id="8config-%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96webxml-%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF">8.config 对象（获取web.xml 配置信息）</h5>

<pre class="language-jsp">&lt;%
config.getServletName();   //&#x5B83;&#x8FD4;&#x56DE;&#x5305;&#x542B;&#x5728;&lt;servlet-name&gt;&#x5143;&#x7D20;&#x4E2D;servlet&#x540D;&#x5B57;&#xFF0C;
//&#x6CE8;&#x610F;&#xFF0C;&lt;servlet-name&gt;&#x5143;&#x7D20;&#x5728; WEB-INF\web.xml &#x6587;&#x4EF6;&#x4E2D;&#x5B9A;&#x4E49;&#x3002;

config.getInitParameter(); //&#x83B7;&#x53D6;&#x670D;&#x52A1;&#x5668;&#x6240;&#x6709;&#x7684;&#x521D;&#x59CB;&#x53C2;&#x6570;&#x540D;&#x79F0;

%&gt;

</pre>
<h5 class="mume-header" id="9exception%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96%E5%BC%82%E5%B8%B8%E4%BF%A1%E6%81%AF">9.exception对象（获取异常信息）</h5>

<p>exception对象 用来处理jsp 文件执行时发生的所有错误与异常，<font color="red">只有在page 指令中的 isErrorPage 属性值为 true 的jsp 页面中使用。</font></p>
<p>运行流程：<br>
<strong>当jsp 页面出现没有捕获的异常时，jsp 会生成exception 对象，并把exception 对象传送到 page指令中设定的错误页面，然后在错误页面处理相应的exception 对象。</strong></p>
<pre class="language-jsp">&lt;%
exception.getMessage();   //&#x8FD4;&#x56DE;exception&#x5BF9;&#x8C61;&#x7684;&#x5F02;&#x5E38;&#x4FE1;&#x606F;&#x5B57;&#x7B26;&#x4E32;

exception.getLocalizedmessage();  //&#x8FD4;&#x56DE;&#x672C;&#x5730;&#x5316;&#x7684;&#x5F02;&#x5E38;&#x9519;&#x8BEF;

exception.toString();   //&#x8FD4;&#x56DE;&#x5F02;&#x5E38;&#x9519;&#x8BEF;&#x4FE1;&#x606F;&#x7684;&#x63CF;&#x8FF0;

%&gt;
</pre>
<h5 class="mume-header" id="%E8%A1%A5%E5%85%85">补充：</h5>

<p>在超链接中传递多个参数值(使用‘ &amp; ’)：<br>
<code>&lt;a href=&quot;user.jsp?userid=1&amp;name=tom&amp;age=12&amp;gender=woman&quot;&gt;超链接&lt;/a&gt;</code></p>
<h3 class="mume-header" id="4jsp%E4%B8%8Ejavabean%E7%9A%84%E6%B7%B7%E5%90%88">4.jsp与javaBean的混合：</h3>

<ol>
<li>实例化javabean对象：</li>
</ol>
<pre class="language-jsp">
&lt;jsp:useBean id=&quot;beanName&quot; scope=&quot;&#x4F5C;&#x7528;&#x57DF;&quot; class=&quot;bean&#x7684;&#x7C7B;&#x8DEF;&#x5F84;&quot; /&gt;
&lt;!--
scope&#x7684;&#x53D6;&#x503C;&#xFF1A;
    page:&#x5F53;&#x524D;&#x9875;&#x9762;&#x6709;&#x6548;&#x3002;
    request&#xFF1A; &#x8BF7;&#x6C42;&#x8303;&#x56F4;&#x5185;&#x6709;&#x6548;&#x3002;
    session&#xFF1A; session&#x8303;&#x56F4;&#x5185;&#x6709;&#x6548;&#x3002;
    application&#xFF1A; &#x670D;&#x52A1;&#x5668;&#x5185;&#x6709;&#x6548;&#x3002;

--&gt;

</pre>
<ol start="2">
<li>访问bean的属性：<br>
使用jsp:getProperty 与 jsp:getProperty 标签。</li>
</ol>
<pre class="language-jsp">&lt;jsp:useBean id=&quot;students&quot; class=&quot;com.entity.StudentsBean&quot;&gt; 
&lt;!--
  name&#x5C5E;&#x6027;: jsp:useBean&#x6807;&#x7B7E;&#x7684; id&#x503C;&#x3002;property&#x5C5E;&#x6027;&#xFF1A;&#x60F3;&#x8981;&#x8C03;&#x7528;&#x7684;getter&#x6216;setter&#x65B9;&#x6CD5;&#x3002;
--&gt;

   &lt;jsp:setProperty name=&quot;students&quot; property=&quot;firstName&quot; value=&quot;Zara&quot;/&gt;
   &lt;jsp:setProperty name=&quot;students&quot; property=&quot;lastName&quot;  value=&quot;Ali&quot;/&gt;
   &lt;jsp:setProperty name=&quot;students&quot; property=&quot;age&quot;       value=&quot;10&quot;/&gt;
&lt;/jsp:useBean&gt;

&lt;!--
  name&#x5C5E;&#x6027;: jsp:useBean&#x6807;&#x7B7E;&#x7684; id&#x503C;&#x3002;property&#x5C5E;&#x6027;&#xFF1A;&#x60F3;&#x8981;&#x8C03;&#x7528;&#x7684;getter&#x6216;setter&#x65B9;&#x6CD5;&#x3002;
--&gt;
&lt;p&gt;Student First Name: 
   &lt;jsp:getProperty name=&quot;students&quot; property=&quot;firstName&quot;/&gt;
&lt;/p&gt;
&lt;p&gt;Student Last Name: 
   &lt;jsp:getProperty name=&quot;students&quot; property=&quot;lastName&quot;/&gt;
&lt;/p&gt;
&lt;p&gt;Student Age: 
   &lt;jsp:getProperty name=&quot;students&quot; property=&quot;age&quot;/&gt;
&lt;/p&gt;
</pre>
<h2 class="mume-header" id="servlet%E7%BB%A7%E6%89%BF%E5%AE%9E%E7%8E%B0%E4%BA%86servlet%E6%8E%A5%E5%8F%A3%E7%9A%84java%E7%B1%BB">Servlet（继承，实现了Servlet接口的，Java类）</h2>

<h3 class="mume-header" id="1%E6%A6%82%E8%BF%B0-1">1.概述：</h3>

<p><font color="red">Servlet 是运行在带有支持Servlet 规范的解释器的 web 服务器上的 Java 类，</font>是作为来自 Web 浏览器或其他 HTTP 客户端的请求和 HTTP 服务器上的数据库或应用程序之间的中间层。<br>
<strong>使用 Servlet，您可以收集来自网页表单的用户输入，呈现来自数据库或者其他源的记录，还可以动态创建网页。</strong></p>
<p><strong>注意：</strong><font color="blue">一个jsp文件最终将会转换为Servlet 后运行的。Web容器（Tomcat）最终运行的是一个Servlet文件，而不是 jsp文件。</font></p>
<h3 class="mume-header" id="2-%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB">2. 原理与继承关系：</h3>

<p><font color="red">从http协议中的请求和响应可以得知，浏览器发出的请求是一个请求文本，而浏览器接收到的也应该是一个响应文本。并不知道是其中的内部细节。只知道浏览器发送过来的请求也就是request，我们响应回去的就用response。</font></p>
<p><img src="../img/javaweb_img/servlet_1.png" alt="servlet&#x56FE;1"></p>
<blockquote>
<p>①：Tomcat将http请求文本接收并解析，然后封装成HttpServletRequest类型的request对象，所有的HTTP头数据读可以通过request对象调用对应的方法查询到。</p>
</blockquote>
<blockquote>
<p>②：Tomcat同时会要响应的信息封装为HttpServletResponse类型的response对象，通过设置response属性就可以控制要输出到浏览器的内容，然后将response交给tomcat，tomcat就会将其变成响应文本的格式发送给浏览器</p>
</blockquote>
<blockquote>
<p>Java Servlet API 是Tomcat和servlet之间的接口，它定义了serlvet的各种方法，还定义了Servlet容器（<mark>Tomcat</mark>）传送给Servlet的对象类，其中最重要的就是<mark>ServletRequest和ServletResponse</mark>。所以说我们在编写servlet时，需要实现Servlet接口，按照其规范进行操作。</p>
</blockquote>
<blockquote>
<p><font color="red">通常情况下，编写一个Java类,继承HttpServlet类（实现的servlet接口），相当于把该java类与Tomcat（Servlet容器）进行了关联。</font></p>
</blockquote>
<p><img src="../img/javaweb_img/servlet_2.png" alt="&#x7EE7;&#x627F;&#x5173;&#x7CFB;"></p>
<h3 class="mume-header" id="3%E5%88%9B%E5%BB%BAservlet%E4%B8%8E%E9%85%8D%E7%BD%AEservlet%E6%8A%8Aservlet%E5%AF%B9%E8%B1%A1%E6%B3%A8%E5%85%A5%E5%88%B0servlet%E5%AE%B9%E5%99%A8%E4%B8%AD">3.创建Servlet,与配置Servlet（把servlet对象注入到Servlet容器中）：</h3>

<ol>
<li>创建Servlet（继承HttpServlet类，并重写该类的方法）：</li>
</ol>
<pre class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">myservlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is 重写HttpServlet的方法,  处理get类型的请求"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is 重写HttpServlet的方法， 处理post类型的请求"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is 重写GenericServlet的方法，  Servlet对象的初始化方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is 重写GenericServlet的方法 , Servlet对象的销毁方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
<span class="token punctuation">}</span>
</pre>
<ol start="2">
<li>配置Servlet(在web.xml文件):<br>
<font color="red">配置Servlet，主要用于把创建的Servlet注入到Servlet容器（Tomcat）中。<br>
让浏览器发出的请求知道到达哪个servlet，也就是让tomcat将封装好的request找到对应的servlet让其使用<br>
</font></li>
</ol>
<p>web.xml</p>
<pre class="language-xml"><span class="token comment" spellcheck="true">&lt;!--
配置格式：
  &lt;servlet>
  	&lt;servlet-name> servlet的名称 &lt;/servlet-name>
  	&lt;servlet-class> servlet的完整类名 &lt;/servlet-class>
  &lt;/servlet>
  
  &lt;servlet-mapping>
  	&lt;servlet-name> servlet的名称 &lt;/servlet-name>
  	&lt;url-pattern>  访问的 url 的地址,浏览器通过它找到对应的servlet &lt;/url-pattern>
  &lt;/servlet-mapping>

--></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>myservlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>com.servlet.myservlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>myservlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/mys<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span>
</pre>
<p><strong>浏览器 调用servlet的步骤：</strong><br>
  ①：首先浏览器通过http://localhost:8080/blog_jsp/mys来找到web.xml中的url-pattern。<br>
  ②：匹配到了url-pattern后，就会找到servlet的名字myservlet，知道了名字，就可以通过servlet-name找到第三步。<br>
  ③：到了第三步，也就能够知道servlet类的位置了。然后到其中找到对应的处理方式进行处理。</p>
<ol start="3">
<li>使用Servlet处理表单数据：</li>
</ol>
<p>①：创建servlet（修改上面例子中的servlet）</p>
<pre class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">myservlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is 重写HttpServlet的方法,  处理get类型的请求"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                      <span class="token comment" spellcheck="true">//设置请求的编码格式,防止中文乱码。</span>
		response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//设置响应的编码格式,防止中文乱码。</span>
		
		String name<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Integer age<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"姓名 ："</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">",  年龄："</span><span class="token operator">+</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		PrintWriter outp <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//从response 中获取输出流对象。</span>
		outp<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"姓名 ："</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">",  年龄："</span><span class="token operator">+</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//输出字符串给浏览器</span>
		
		outp<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment" spellcheck="true">//刷新输出流</span>
		outp<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         						  <span class="token comment" spellcheck="true">//关闭输出流		</span>
		
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</pre>
<p>②：编写jsp中的表单：</p>
<pre class="language-jsp">&lt;form action=&quot;mys&quot; method=&quot;post&quot;&gt;

&#x540D;&#x5B57;&#xFF1A;&lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;
&#x5E74;&#x9F84;&#xFF1A;&lt;input type=&quot;text&quot; name=&quot;age&quot; /&gt;
&lt;input type=&quot;submit&quot; value=&quot;&#x63D0;&#x4EA4;&quot; /&gt;

&lt;/form&gt;
</pre>
<p><font color="red">注意：action属性的值 是 表单提交的servlet的地址，即配置文件（web.xml）中的Servlet的 URL 映射值</font></p>
<pre class="language-xml"> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>myservlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/mys<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span>
  
</pre>
<p>③: 运行<br>
开启tomcat 服务器，运行index.jsp文件。<br>
<img src="../img/javaweb_img/servlet_3.png" alt="servlet_3.png"></p>
<p><img src="../img/javaweb_img/servlet_4.png" alt="servlet_4.png"></p>
<p><img src="../img/javaweb_img/servlet_5.png" alt="servlet_4.png"></p>
<p><font color="red">注意：浏览器的地址变化，从blog_jsp/index.jsp  ----&gt; blog_jsp/mys</font></p>
<p>④：补充</p>
<blockquote>
<p>当tomcat服务器启动，服务器会根据web.xml的信息，通过调用servlet的初始化方法，来创建servlet。</p>
</blockquote>
<h3 class="mume-header" id="4servlet%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">4.servlet的生命周期：</h3>

<p>Servlet 生命周期可被定义为从创建直到毁灭的整个过程。以下是 Servlet 遵循的过程：<br>
①：Servlet 通过调用 init () 方法进行初始化。<br>
②：Servlet 调用 service() 方法来处理客户端的请求。<br>
③：Servlet 通过调用 destroy() 方法终止（结束）。<br>
④：最后，Servlet 是由 JVM 的垃圾回收器进行垃圾回收的。</p>
<p>服务器启动时(web.xml中配置load-on-startup=1，默认为0)或者第一次请求该servlet时，就会初始化一个Servlet对象，也就是会执行初始化方法init(ServletConfig conf).</p>
<p>该servlet对象去处理所有客户端请求，在service(ServletRequest req，ServletResponse res)方法中执行</p>
<p>最后服务器关闭时，才会销毁这个servlet对象，执行destroy()方法。</p>
<p><img src="../img/javaweb_img/servlet_6.png" alt="servlet_6.png"></p>
<h3 class="mume-header" id="5servlet%E7%BC%96%E5%86%99%E8%BF%87%E6%BB%A4%E5%99%A8filter-%E8%BF%87%E6%BB%A4%E5%99%A8">5.servlet编写过滤器（Filter 过滤器）：</h3>

<p>Servlet 过滤器是可用于 Servlet 编程的 Java 类，有以下目的：<br>
①：在客户端的请求访问数据库，后端资源之前，拦截这些请求。<br>
②：在服务器的响应发送回客户端之前，处理这些响应。</p>
<p><font color="red">过滤器被部署在配置在 web.xml 中，然后映射到web.xml中的 Servlet。<br>
当 Web 容器启动 Web 应用程序时，它会为您在web.xml中声明的每一个过滤器创建一个实例。<br>
该过滤器执行的顺序是按它们在部署描述符中声明的顺序。</font></p>
<ol>
<li>创建过滤器并配置：<br>
<strong>过滤器是一个实现了 javax.servlet.Filter 接口的 Java 类。</strong></li>
</ol>
<pre class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LogFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span><span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"LogFilter  destroy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	<span class="token punctuation">}</span>
	
	<span class="token comment" spellcheck="true">/*
	 * 在该方法中实现过滤操作。
	 * 请求过滤后，需要把请求释放，向下传递。
	 * */</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span>ServletRequest request<span class="token punctuation">,</span> ServletResponse response<span class="token punctuation">,</span> FilterChain chain<span class="token punctuation">)</span>
			<span class="token keyword">throws</span> IOException<span class="token punctuation">,</span> ServletException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"LogFilter  doFilter"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//把过滤器拦截的请求释放，向下传递</span>
		
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>FilterConfig arg0<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"LogFilter  init"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</pre>
<p>web.xml</p>
<pre class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>LoginFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">></span></span>com.filter.LogFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>LoginFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>
   <span class="token comment" spellcheck="true">&lt;!--过滤器的URL映射--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">></span></span>
</pre>
<p>注意：<br>
<font color="blue">filter-mapping标签用于把过滤器和URL关联，而URL 又与servlet 关联。</font></p>
<p>①：/* 表示对所有是servlet 都进行过滤。在少数的 Servlet 上应用过滤器，可以指定一个特定的 Servlet 路径</p>
<p>②：<font color="red">web.xml 中的 filter-mapping 元素的顺序决定了 Web 容器应用过滤器到 Servlet 的顺序。若要反转过滤器的顺序，您只需要在 web.xml 文件中反转 filter-mapping 元素即可。</font></p>
<br>
<ol start="2">
<li>多个过滤器的运行流程：<br>
<img src="../img/javaweb_img/servlet_7.png" alt="servlet_7.png"></li>
</ol>
<br>
<ol start="3">
<li>实现字符编码过滤器：</li>
</ol>
<p>①：创建过滤器（修改上面的过滤器）：</p>
<pre class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LogFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span><span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"LogFilter  destroy"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	<span class="token punctuation">}</span>
	
	<span class="token comment" spellcheck="true">/*
	 * 在该方法中实现过滤操作。
	 * 请求过滤后，需要把请求释放，向下传递。
	 * */</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span>ServletRequest request<span class="token punctuation">,</span> ServletResponse response<span class="token punctuation">,</span> FilterChain chain<span class="token punctuation">)</span>
			<span class="token keyword">throws</span> IOException<span class="token punctuation">,</span> ServletException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"LogFilter  doFilter"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//设置request的编码格式</span>
		response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		
		chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//把过滤器拦截的请求释放，向下传递</span>
		
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>FilterConfig arg0<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"LogFilter  init"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</pre>
<p>②：创建jsp：</p>
<pre class="language-jsp">&lt;form action=&quot;mys&quot; method=&quot;post&quot;&gt;

&#x540D;&#x5B57;&#xFF1A;&lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;
&#x5E74;&#x9F84;&#xFF1A;&lt;input type=&quot;text&quot; name=&quot;age&quot; /&gt;
&lt;input type=&quot;submit&quot; value=&quot;&#x63D0;&#x4EA4;&quot; /&gt;

&lt;/form&gt;
</pre>
<p>③：编写servlet：</p>
<pre class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">myservlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span><span class="token punctuation">{</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is 重写HttpServlet的方法,  处理get类型的请求"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
	
		
		String name<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Integer age<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"姓名 ："</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">",  年龄："</span><span class="token operator">+</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		PrintWriter outp <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//从response 中获取输出流对象。</span>
		outp<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"姓名 ："</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">",  年龄："</span><span class="token operator">+</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//输出字符串给浏览器</span>
		
		outp<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                                 <span class="token comment" spellcheck="true">//刷新输出流</span>
		outp<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         						  <span class="token comment" spellcheck="true">//关闭输出流		</span>
		
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is 重写GenericServlet的方法，  Servlet对象的初始化方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"this is 重写GenericServlet的方法 , Servlet对象的销毁方法"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
<span class="token punctuation">}</span>
</pre>
<p>④：运行结果：<br>
<img src="../img/javaweb_img/servlet_10.png" alt="servlet_10.png"></p>
<p><img src="../img/javaweb_img/servlet_8.png" alt="servlet_8.png"></p>
<p><img src="../img/javaweb_img/servlet_9.png" alt="servlet_9.png"></p>
<br>
<ol start="4">
<li>补充：<br>
<strong>在doFilter() 方法中，当业务逻辑处理完成。需要通过FilterChain 对象的 doFilter（）方法将请求传递到下一个过滤器或目标资源中，否则出现错误。</strong></li>
</ol>
<h3 class="mume-header" id="6servlet-%E5%AF%B9%E4%BA%8E%E5%BC%82%E5%B8%B8%E7%9A%84%E5%A4%84%E7%90%86">6.servlet 对于异常的处理：</h3>

<p>当一个 Servlet 抛出一个异常时。web.xml 使用 error-page 元素来指定对特定异常 或 HTTP 状态码 作出相应的 Servlet 调用。</p>
<p>web.xml</p>
<pre class="language-xml">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet</span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>myservlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-class</span><span class="token punctuation">></span></span>com.servlet.myservlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-class</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet</span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-mapping</span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>servlet-name</span><span class="token punctuation">></span></span>myservlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-name</span><span class="token punctuation">></span></span>
  	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/mys<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>servlet-mapping</span><span class="token punctuation">></span></span>


<span class="token comment" spellcheck="true">&lt;!-- error-code 相关的错误页面 
	当状态码为404 时，URL映射为 /mys 的servlet 将被调用

--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-page</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-code</span><span class="token punctuation">></span></span>404<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-code</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span><span class="token punctuation">></span></span>/mys<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-page</span><span class="token punctuation">></span></span>

<span class="token comment" spellcheck="true">&lt;!-- exception-type 相关的错误页面
	当该servlet 出现 IOException时，URL映射为 /mys 的servlet 将被调用
 --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-page</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exception-type</span><span class="token punctuation">></span></span>java.io.IOException<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exception-type</span> <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span><span class="token punctuation">></span></span>/mys<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-page</span><span class="token punctuation">></span></span>
</pre>
<p><font color="red">如果您想对所有的异常有一个通用的错误处理程序，那么应该定义下面的 error-page，而不是为每个异常定义单独的 error-page 元素.</font></p>
<pre class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>error-page</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exception-type</span><span class="token punctuation">></span></span>java.lang.Throwable<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exception-type</span> <span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>location</span><span class="token punctuation">></span></span>/mys<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>location</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>error-page</span><span class="token punctuation">></span></span>
</pre>
<p><img src="../img/javaweb_img/servlet_11.png" alt="servlet_11.png"></p>
<h2 class="mume-header" id="el%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E4%B8%8E-jstl%E6%A0%87%E7%AD%BE%E5%BA%93">EL表达式 与 JSTL标签库：</h2>

<h3 class="mume-header" id="1el%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E8%A8%80epression-language">1.EL(表达式语言，Epression Language)</h3>

<p>EL主要用于简化jsp中对 对象的引用。</p>
<ol>
<li>EL表达式语法（中间为合法的表达式）：<br>
<code>${~ ~ ~}</code></li>
</ol>
<p>例如：在jsp页面上显示一段话。<br>
以前：<code>out.print(&quot;i am xiaoming&quot;);</code><br>
现在：<code>${&quot;i am xiaoming&quot;}</code></p>
<ol start="2">
<li>EL的运算符：<br>
<img src="../img/javaweb_img/el_1.png" alt="el_1.png"><br>
<img src="../img/javaweb_img/el_2.png" alt="el_2.png"><br>
<font color="red">注意：EL的 “ + ”运算符，不能把两个字符串连接。若两个字符串无法转化为int 类型，则抛出异常。</font></li>
</ol>
<br>
<ol start="3">
<li>EL 操作jsp的内置对象：<br>
<img src="../img/javaweb_img/el_3.png" alt="el_3.png"></li>
</ol>
<pre class="language-jsp">&lt;body&gt;

${1+2}
${requestScope.user}    &lt;!--&#x83B7;&#x53D6;request &#x4F5C;&#x7528;&#x57DF;&#x7684; user&#x5C5E;&#x6027;--&gt;

&lt;/body&gt; 
</pre>
<h3 class="mume-header" id="2jstl">2.JSTL</h3>

<p>JSP 标准标签库（jstl）,是一个JSP标签集合，它封装了JSP应用的通用核心功能。</p>
<ol>
<li>使用前提：<br>
①：在WEB-INF下的lib文件夹中加入<font color="red">jstl-1.2.jar 和 standard-1.1.2.jar</font><br>
②：在需要使用jstl的jsp页面上要引入：<br>
&lt;%@ tagliburi=&quot;<a href="http://java.sun.com/jsp/jstl/core">http://java.sun.com/jsp/jstl/core</a>&quot; prefix=&quot;c&quot;%&gt;<br>
③：使用jstl</li>
</ol>
<br>
<ol start="2">
<li>核心标签：<br>
<img src="../img/javaweb_img/jstl_1.png" alt="jstl_1.png"></li>
</ol>
<pre class="language-jsp">	
	&lt;!--c:out&#x6807;&#x7B7E;
		&#x683C;&#x5F0F;&#xFF1A; &lt;c:out value=&quot;&#x8868;&#x8FBE;&#x5F0F;&quot;&gt;
	
	 --&gt;
	&lt;c:out value=&quot;123&quot;/&gt;
	
	&lt;!--c:set &#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x6807;&#x7B7E;, c:remove &#x6807;&#x7B7E;
	&#x683C;&#x5F0F;&#xFF1A;&lt;c:set var=&quot;&#x53D8;&#x91CF;&#x540D;&quot; value=&quot;&#x53D8;&#x91CF;&#x503C;&quot; scope=&quot;&#x53D8;&#x91CF;&#x7684;&#x4F5C;&#x7528;&#x57DF;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;page&quot;/&gt;

	&lt;c:remove var=&quot;&#x79FB;&#x9664;&#x7684;&#x53D8;&#x91CF;&#x540D;&quot; scope=&quot;&#x8BE5;&#x53D8;&#x91CF;&#x7684;&#x8303;&#x56F4;&quot;/&gt;
	--&gt;
	&lt;c:set value=&quot;root&quot; var=&quot;userid&quot;/&gt;
	userid:${userid }
	&lt;c:remove var=&quot;userid&quot;/&gt;
	userid:${userid }


&lt;!--
	&#x6D41;&#x7A0B;&#x63A7;&#x5236;&#x6807;&#x7B7E;&#xFF1A;

&lt;c:if&gt; &#xFF1A;&#x5224;&#x65AD;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#xFF0C;&#x5982;&#x679C;&#x8868;&#x8FBE;&#x5F0F;&#x7684;&#x503C;&#x4E3A;&#x771F;&#x5219;&#x6267;&#x884C;&#x5176;&#x4E3B;&#x4F53;&#x5185;&#x5BB9;&#x3002;

&lt;c:choose&gt;&#x548C;&lt;c:when&gt;&#x548C;&lt;c:otherwise&gt; &#x6807;&#x7B7E;&#xFF1A;
	&lt;c:choose&gt;&#x6807;&#x7B7E;&#x4E0E;Java switch&#x8BED;&#x53E5;&#x7684;&#x529F;&#x80FD;&#x4E00;&#x6837;&#xFF0C;&#x7528;&#x4E8E;&#x5728;&#x4F17;&#x591A;&#x9009;&#x9879;&#x4E2D;&#x505A;&#x51FA;&#x9009;&#x62E9;&#x3002;
	switch&#x8BED;&#x53E5;&#x4E2D;&#x6709;case&#xFF0C;&#x800C;&lt;c:choose&gt;&#x6807;&#x7B7E;&#x4E2D;&#x5BF9;&#x5E94;&#x6709;&lt;c:when&gt;&#xFF0C;
	switch&#x8BED;&#x53E5;&#x4E2D;&#x6709;default&#xFF0C;&#x800C;&lt;c:choose&gt;&#x6807;&#x7B7E;&#x4E2D;&#x6709;&lt;c:otherwise&gt;&#x3002;
	
	&lt;c:when&gt;&#x6807;&#x7B7E;&#x7684;test&#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x4E8E;&#x6761;&#x4EF6;&#x5224;&#x65AD;&#x3002;

	
--&gt;

&lt;c:set var=&quot;salary&quot; scope=&quot;session&quot; value=&quot;${2000*2}&quot;/&gt;
&lt;c:if test=&quot;${salary &gt; 2000}&quot;&gt;
   &lt;p&gt;&#x6211;&#x7684;&#x5DE5;&#x8D44;&#x4E3A;: &lt;c:out value=&quot;${salary}&quot;/&gt;&lt;p&gt;
&lt;/c:if&gt;



&lt;c:set var=&quot;salary&quot; scope=&quot;session&quot; value=&quot;${2000*2}&quot;/&gt;
&lt;p&gt;&#x4F60;&#x7684;&#x5DE5;&#x8D44;&#x4E3A; : &lt;c:out value=&quot;${salary}&quot;/&gt;&lt;/p&gt;
&lt;c:choose&gt;
    &lt;c:when test=&quot;${salary &lt;= 0}&quot;&gt;
       &#x592A;&#x60E8;&#x4E86;&#x3002;
    &lt;/c:when&gt;
    &lt;c:when test=&quot;${salary &gt; 1000}&quot;&gt;
       &#x4E0D;&#x9519;&#x7684;&#x85AA;&#x6C34;&#xFF0C;&#x8FD8;&#x80FD;&#x751F;&#x6D3B;&#x3002;
    &lt;/c:when&gt;
    &lt;c:otherwise&gt;
        &#x4EC0;&#x4E48;&#x90FD;&#x6CA1;&#x6709;&#x3002;
    &lt;/c:otherwise&gt;
&lt;/c:choose&gt;


&lt;!--
&#x5FAA;&#x73AF;&#x6807;&#x7B7E;&#xFF1A;&lt;c:forEach&gt;  ,  &lt;c:forTokens&gt;
	&#x8FD9;&#x4E24;&#x4E2A;&#x6807;&#x7B7E;&#x5C01;&#x88C5;&#x4E86;Java&#x4E2D;&#x7684;for&#xFF0C;while&#xFF0C;do-while&#x5FAA;&#x73AF;&#x3002;
	&#x76F8;&#x6BD4;&#x800C;&#x8A00;&#xFF0C;&lt;c:forEach&gt;&#x6807;&#x7B7E;&#x662F;&#x66F4;&#x52A0;&#x901A;&#x7528;&#x7684;&#x6807;&#x7B7E;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x8FED;&#x4EE3;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x3002;
	&lt;c:forTokens&gt;&#x6807;&#x7B7E;&#x5C06;&#x5B57;&#x7B26;&#x4E32;&#x5206;&#x9694;&#x4E3A;&#x4E00;&#x4E2A;&#x5B50;&#x4E32;&#x6570;&#x7EC4;&#x7136;&#x540E;&#x8FED;&#x4EE3;&#x5B83;&#x4EEC;&#x3002;


--&gt;

&lt;c:forEach var=&quot;i&quot; begin=&quot;1&quot; end=&quot;5&quot;&gt;
   Item &lt;c:out value=&quot;${i}&quot;/&gt;&lt;p&gt;
&lt;/c:forEach&gt;


&lt;c:forTokens items=&quot;google,w3cschool,taobao&quot; delims=&quot;,&quot; var=&quot;name&quot;&gt;
   &lt;c:out value=&quot;${name}&quot;/&gt;&lt;p&gt;
&lt;/c:forTokens&gt;

</pre>
<p><img src="../img/javaweb_img/jstl_2.png" alt="jstl_2.png"></p>
<ol start="3">
<li>补充：<br>
jstl 与 el 没有什么关系，但一般把它们配合在一起使用。jstl 与 el 的配合对于简化jsp页面比单独使用更强大。</li>
</ol>
<h2 class="mume-header" id="jdbc">JDBC</h2>

<p>参考链接：<a href="http://blog.csdn.net/angus_17/article/details/8020652">Class.forName()方法的作用</a></p>
<p>JDBC（Java DataBase Connectivity,java数据库连接）是<font color="red">一种用于执行SQL语句的Java API，可以为多种关系数据库提供统一访问,用来连接 Java 编程语言和广泛的数据库</font>，它由一组用Java语言编写的类和接口组成。JDBC提供了一种基准，据此可以构建更高级的工具和接口，使数据库开发人员能够编写数据库应用程序。</p>
<br>
<h3 class="mume-header" id="1jdbcl%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%BA%E4%BE%8B">1.jdbcl连接数据库，以mysql数据库为例：</h3>

<p><img src="../img/javaweb_img/jdbc_1.png" alt="jdbc_1.png"></p>
<ol>
<li>①：加载驱动：<br>
把mysql的驱动程序（不同的数据库驱动程序，都由数据库厂商提供）放到WEB-INF/lib目录下：<br>
mysql-connector-java-5.1.40-bin.jar</li>
</ol>
<p><code>Class.forName(&quot;com.mysql.jdbc.Driver&quot;);</code></p>
<p><font color="red">加载数据库驱动程序使用的是Class.forName（）方法。该方法会把驱动程序加入到 JVM 中。 </font></p>
<ol start="2">
<li>设置数据库的用户名，密码，连接URL.<br>
连接URL的基本格式：“jdbc协议 + 数据库ip 地址 + 数据库端口号 + 数据库名称”</li>
</ol>
<pre class="language-java">String url<span class="token operator">=</span><span class="token string">"jdbc:mysql://localhost:3306/test"</span><span class="token punctuation">;</span>
String user<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span>
String password<span class="token operator">=</span><span class="token string">"123456"</span><span class="token punctuation">;</span>
</pre>
<p><font color="blue">注意：这里的用户，密码 要与你安装的MySQL 数据库的用户，密码，对应。</font></p>
<ol start="3">
<li>②：连接:<br>
通过jdbc api的DriverManager类的getConnection（）方法，创建数据库的连接。</li>
</ol>
<p><code>Connection	conn=DriverManager.getConnection(url,user,password);</code></p>
<ol start="4">
<li>建立连接后，使用连接对象创建<font color="red">操作SQL语句的Statement 对象或PreparedStatement对象</font>。</li>
</ol>
<pre class="language-java">
String sql<span class="token operator">=</span><span class="token string">"insert into goods (name,price,address) values(?,?,?)"</span><span class="token punctuation">;</span>      
PreparedStatement pstmt<span class="token operator">=</span>conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
	pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>g<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
	pstmt<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>g<span class="token punctuation">.</span><span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>g<span class="token punctuation">.</span><span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/*
	? 表示占位符，表示要插入数据的位置

	pstmt.setString(1,g.getName()); 表示给第一个占位符赋值。

*/</span>
</pre>
<ol start="5">
<li>调用对象的execute（）方法,编译执行sql语句：</li>
</ol>
<pre class="language-java"><span class="token keyword">int</span> a<span class="token operator">=</span>pstmt<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//a=1 ,表示 数据表的一行 受影响。</span>

</pre>
<ol start="6">
<li>
<p>关闭数据库连接，释放系统资源：<br>
<code>conn.close();</code></p>
</li>
<li>
<p>完整代码：</p>
</li>
</ol>
<pre class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">linkdatabase</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String dirverName<span class="token operator">=</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String url<span class="token operator">=</span><span class="token string">"jdbc:mysql://localhost:3306/test"</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String user<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String password<span class="token operator">=</span><span class="token string">"123456"</span><span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> Connection <span class="token function">getconnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		Connection conn<span class="token operator">=</span>null<span class="token punctuation">;</span>
		
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			conn<span class="token operator">=</span>DriverManager<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>user<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"数据库链接失败1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"数据库链接失败2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token keyword">return</span> conn<span class="token punctuation">;</span>
		
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Goods_delete_Controller</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> Connection conn<span class="token operator">=</span>linkdatabase<span class="token punctuation">.</span><span class="token function">getconnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//获取数据库连接</span>
	
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		Integer id<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>

		<span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		String sql<span class="token operator">=</span><span class="token string">"delete from goods where id=?"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt<span class="token punctuation">;</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
			pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> 							<span class="token comment" spellcheck="true">//给占位符赋值</span>
			a<span class="token operator">=</span>pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//执行sql语句，返回 a</span>
			
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" GoodsDao  delete 异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>


		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"删除成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token comment" spellcheck="true">/*
			 * 查询全部数据
			 * */</span>
			List<span class="token operator">&lt;</span>Goods<span class="token operator">></span> lg<span class="token operator">=</span>gs<span class="token punctuation">.</span><span class="token function">selectAll_service</span><span class="token punctuation">(</span>conn<span class="token punctuation">)</span><span class="token punctuation">;</span>
			request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"listgoods"</span><span class="token punctuation">,</span> lg<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token comment" spellcheck="true">//把查出来的数据，存放在request对象的listgoods属性中</span>
			request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"goodslist.jsp"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//把查询的数据传递给下一个 goodslist.jsp 页面</span>
			
		<span class="token punctuation">}</span>
	
	<span class="token punctuation">}</span>

	
<span class="token punctuation">}</span>

</pre>
<h3 class="mume-header" id="2statement-%E6%8E%A5%E5%8F%A3%E4%B8%8Epreparedstatement%E6%8E%A5%E5%8F%A3">2.Statement 接口与PreparedStatement接口:</h3>

<p>JDBC 的 Statement 和 PreparedStatement 接口定义的方法和属性，可以让你发送 SQL 命令到数据库，并从你的数据库接收数据。</p>
<p><mark>注意：开发中不建议使用Statement来操作数据库，而是使用PreparedStatement，因为Statement是执行的是完整的SQL语句。而PreparedStatement 可以执行带参数的sql语句。</mark></p>
<h4 class="mume-header" id="1statement-%E6%8E%A5%E5%8F%A3">1.Statement 接口：</h4>

<p><font color="red">主要用于执行静态的sql语句（不带参的sql 语句），并返回结果。<br>
</font></p>
<p>①：创建Statement 对象：<br>
<code>Statement stmt=conn.createStatement( );</code></p>
<p>②：你可以用它的三个常用执行方法的任一方法来执行 SQL 语句：</p>
<ol>
<li>
<p>boolean execute(String SQL) :<br>
如果 ResultSet 对象可以被检索，则返回的布尔值为 true ，否则返回 false 。当你需要使用真正的动态 SQL 时，可以使用这个方法来执行 SQL 语句。</p>
</li>
<li>
<p>int executeUpdate(String SQL) :<br>
返回执行 SQL 语句影响的行的数目。 <font color="red">常用于INSERT，UPDATE 或 DELETE 语句。</font></p>
</li>
<li>
<p>ResultSet executeQuery(String SQL) :<br>
返回一个 ResultSet 对象。当你希望得到一个结果集时使用该方法。 <font color="red">常用于SELECT  语句。</font></p>
</li>
</ol>
<h4 class="mume-header" id="2preparedstatement-%E6%8E%A5%E5%8F%A3">2.PreparedStatement 接口：</h4>

<blockquote>
<p>Statement 对象执行静态sql 语句，但在实际过程中，往往将程序的变量作为sql 语句的参数。而这时，使用Statement 对象 操作sql语句会过于繁琐，并且存在安全方面的缺陷。因此这是，使用PreparedStatement 对象比较好。</p>
</blockquote>
<p>PreparedStatement 对象继承 Statement 对象，它们之间的区别：<br>
①：PreparedStatement 对象 执行的sql 语句都是预编译的,可以高效的多次执行sql 语句。<br>
②：可以使用占位符 “ ？ ” 来代替sql语句的参数，然后通过 setXXX() 方法，给占位符赋值。</p>
<ol>
<li>创建PreparedStatement 对象：</li>
</ol>
<pre class="language-java">String SQL <span class="token operator">=</span> <span class="token string">"Update Employees SET age = ? WHERE id = ?"</span><span class="token punctuation">;</span>
PreparedStatement  pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>SQL<span class="token punctuation">)</span><span class="token punctuation">;</span>
pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//把参数的age值，赋值给 第一个占位符。</span>
pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a<span class="token operator">=</span>pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//执行sql语句,并传回结果。</span>
</pre>
<ol start="2">
<li>常用方法</li>
</ol>
<pre class="language-java">
pstmt<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//执行的sql语句可以说任何种类的sql 语句</span>

pstmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//执行查询语句</span>

pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// 必须是insert ，update ， delete 语句</span>


pstmt<span class="token punctuation">.</span><span class="token function">setBoolean</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span><span class="token keyword">boolean</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//给占位符设置boolean值</span>

pstmt<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span>Date d<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//给占位符设置date值</span>

pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span>String str<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">//给占位符设置String值</span>

pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span><span class="token keyword">int</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//给占位符设置int值</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

</pre>
<h3 class="mume-header" id="3%E7%BB%93%E6%9E%9C%E9%9B%86resultset%E6%8E%A5%E5%8F%A3%E6%8F%90%E4%BE%9B%E6%8C%87%E9%92%88%E5%8A%9F%E8%83%BD">3.结果集ResultSet接口（提供指针功能）:</h3>

<p><code>ResultSet rs=pstmt.executeQuery(&quot;select * from user&quot;);</code></p>
<p>其用于保存查询时，返回的结果集。<font color="red">结果集与数据库表的字段相对应，与表一样也是由行与列组成。并且在结果集的行上提供指针功能。可以通过指针来操作结果集的数据</font></p>
<ol>
<li>常用方法：</li>
</ol>
<pre class="language-java">
<span class="token function">beforeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//把指针移到ResultSet 对象的开头，正好在第一行之前。</span>
<span class="token function">afterLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//把指针移到ResultSet 对象的末尾，正好在最后一行之后。</span>
<span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">//释放资源。</span>
<span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>          <span class="token comment" spellcheck="true">//把指针移到第一行。</span>

<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//把指针从当前行，下移一行，常用与while循环的迭代条件。</span>

<span class="token function">getBoolean</span><span class="token punctuation">(</span><span class="token keyword">int</span> columnindex<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//获取当前行上指定列的值（Boolean类型的）</span>
<span class="token function">getBoolean</span><span class="token punctuation">(</span>String columnName<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//通过列名获取当前行上列的值（Boolean类型的）</span>


<span class="token function">getDate</span><span class="token punctuation">(</span><span class="token keyword">int</span> columnindex<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//获取当前行上指定列的值（Date类型的）</span>
<span class="token function">getDate</span><span class="token punctuation">(</span>String columnName<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//通过列名获取当前行上指定列的值（Boolean类型的）</span>


<span class="token function">getInt</span><span class="token punctuation">(</span><span class="token keyword">int</span> columnindex<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//获取当前行上指定列的值（Int类型的）</span>
<span class="token function">getInt</span><span class="token punctuation">(</span>String columnName<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//通过列名获取当前行上指定列的值（Boolean类型的）</span>


<span class="token function">getString</span><span class="token punctuation">(</span><span class="token keyword">int</span> columnindex<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//获取当前行上指定列的值（String类型的）</span>
<span class="token function">getString</span><span class="token punctuation">(</span>String columnName<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//通过列名获取当前行上指定列的值（Boolean类型的）</span>



<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

</pre>
<ol start="2">
<li>例子：</li>
</ol>
<pre class="language-java">
ResultSet result <span class="token operator">=</span> stmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token string">"SELECT * FROM user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

　　<span class="token keyword">while</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

　　System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
 <span class="token comment" spellcheck="true">//name 是表的name列，若name列是第一列，可写成：result.getString(1);</span>

　　System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"email"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     

　　System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

　　

　　<span class="token punctuation">}</span>
</pre>
<h3 class="mume-header" id="4%E4%BE%8B%E5%AD%90jdbc-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93">4.例子：jdbc 操作数据库:</h3>

<p><font color="red">首先，导入MySQL的数据库驱动程序包（mysql-connector-java-5.1.40-bin.jar）</font></p>
<ol>
<li>创建表（goods表）,数据库名称为test</li>
</ol>
<p><img src="../img/javaweb_img/jdbc_2.png" alt="jdbc_2.png"></p>
<ol start="2">
<li>创建实体类（数据表的映射）：</li>
</ol>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Goods</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> Integer id<span class="token punctuation">;</span>
	<span class="token keyword">private</span> String name<span class="token punctuation">;</span>
	<span class="token keyword">private</span> Double price<span class="token punctuation">;</span>
	<span class="token keyword">private</span> String address<span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token function">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token function">Goods</span><span class="token punctuation">(</span>String name<span class="token punctuation">,</span> Double price<span class="token punctuation">,</span> String address<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> Integer <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> id<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span>String name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> Double <span class="token function">getPrice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> price<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setPrice</span><span class="token punctuation">(</span>Double price<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>price <span class="token operator">=</span> price<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> String <span class="token function">getAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> address<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setAddress</span><span class="token punctuation">(</span>String address<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>address <span class="token operator">=</span> address<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> String <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">"Goods [id="</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">", name="</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">", price="</span> <span class="token operator">+</span> price <span class="token operator">+</span> <span class="token string">", address="</span> <span class="token operator">+</span> address <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
<span class="token punctuation">}</span>

</pre>
<ol start="3">
<li>jdbc连接数据库：</li>
</ol>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>link<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Connection<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>DriverManager<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">linkdatabase</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String dirverName<span class="token operator">=</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String url<span class="token operator">=</span><span class="token string">"jdbc:mysql://localhost:3306/test"</span><span class="token punctuation">;</span>
	<span class="token comment" spellcheck="true">//我这里的数据库名称是test</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String user<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String password<span class="token operator">=</span><span class="token string">"123456"</span><span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> Connection <span class="token function">getconnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		Connection conn<span class="token operator">=</span>null<span class="token punctuation">;</span>
		
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//把数据库驱动程序加载到jvm中。</span>
			conn<span class="token operator">=</span>DriverManager<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>user<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//连接数据库</span>
		
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"数据库链接失败1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"数据库链接失败2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		
		<span class="token keyword">return</span> conn<span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//返回数据库的连接</span>
		
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre>
<ol start="4">
<li>测试jdbc 对数据库的增删改查：</li>
</ol>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>test<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Connection<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>PreparedStatement<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>ResultSet<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>

<span class="token keyword">import</span> org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>Test<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Goods<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>link<span class="token punctuation">.</span>linkdatabase<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">test_jdbc</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">/*
	 * 插入数据
	 * */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_insert</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
		Connection conn<span class="token operator">=</span>linkdatabase<span class="token punctuation">.</span><span class="token function">getconnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//获取数据库连接</span>
		
		String sql<span class="token operator">=</span><span class="token string">"insert into goods (name,price,address) values(?,?,?)"</span><span class="token punctuation">;</span>        
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			PreparedStatement pstmt<span class="token operator">=</span>conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">//创建prepareStatement对象</span>
			pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"xiaoming"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment" spellcheck="true">//给占位符赋值</span>
			pstmt<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"beijing"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token keyword">int</span> a<span class="token operator">=</span>pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//执行sql语句</span>
			
			<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"insert success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"insert shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
			
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  insert 异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
			conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment" spellcheck="true">//关闭连接，释放资源</span>
			
		<span class="token punctuation">}</span>
		
		
		
	<span class="token punctuation">}</span>
	
	
	
	<span class="token comment" spellcheck="true">/*
	 * 删除数据
	 * */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
		Connection conn<span class="token operator">=</span>linkdatabase<span class="token punctuation">.</span><span class="token function">getconnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//获取数据库连接</span>
		
		String sql<span class="token operator">=</span><span class="token string">"delete from goods where id=?"</span><span class="token punctuation">;</span>        
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			PreparedStatement pstmt<span class="token operator">=</span>conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">//创建prepareStatement对象</span>
			pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//给占位符赋值</span>

			
			<span class="token keyword">int</span> a<span class="token operator">=</span>pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//执行sql语句</span>
			
			<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"delete success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"delete shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
			
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"   delete 异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
			conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment" spellcheck="true">//关闭连接，释放资源</span>
			
		<span class="token punctuation">}</span>
		
		
		
	<span class="token punctuation">}</span>
	
	<span class="token comment" spellcheck="true">/*
	 * 修改数据
	 * */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
		Connection conn<span class="token operator">=</span>linkdatabase<span class="token punctuation">.</span><span class="token function">getconnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//获取数据库连接</span>
		
		String sql<span class="token operator">=</span><span class="token string">"update goods set name=? ,price=? , address=? where id=?"</span><span class="token punctuation">;</span>        
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			PreparedStatement pstmt<span class="token operator">=</span>conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">//创建prepareStatement对象</span>
			pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">"xiaoho"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                               <span class="token comment" spellcheck="true">//给占位符赋值</span>
			pstmt<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">"beijing"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token keyword">int</span> a<span class="token operator">=</span>pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//执行sql语句</span>
			
			<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"update success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"update shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
			
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"update 异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
			conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment" spellcheck="true">//关闭连接，释放资源</span>
			
		<span class="token punctuation">}</span>
		
		
		
	<span class="token punctuation">}</span>
	
	
	<span class="token comment" spellcheck="true">/*
	 * 查询全部数据
	 * */</span>
	<span class="token annotation punctuation">@Test</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test_selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token punctuation">{</span>
		Connection conn<span class="token operator">=</span>linkdatabase<span class="token punctuation">.</span><span class="token function">getconnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//获取数据库连接</span>
		
		String sql<span class="token operator">=</span><span class="token string">"select * from goods"</span><span class="token punctuation">;</span>        
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			PreparedStatement pstmt<span class="token operator">=</span>conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token comment" spellcheck="true">//创建prepareStatement对象</span>
		
			ResultSet rs<span class="token operator">=</span>pstmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment" spellcheck="true">//执行sql语句</span>
			
			
			<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>                                   <span class="token comment" spellcheck="true">//遍历ResultSet结果集</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"id:  "</span><span class="token operator">+</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"  ,   name: "</span><span class="token operator">+</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"    "</span>
						<span class="token operator">+</span> <span class="token string">"price:"</span><span class="token operator">+</span>rs<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token string">"price"</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"   address :"</span><span class="token operator">+</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"address"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				
			<span class="token punctuation">}</span>
			
			
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  selectAll 异常"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
			conn<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                          <span class="token comment" spellcheck="true">//关闭连接，释放资源</span>
			
		<span class="token punctuation">}</span>
		
		
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre>
<hr>
<h2 class="mume-header" id="javaweb-%E5%AE%9E%E7%8E%B0crud%E7%9A%84%E4%BE%8B%E5%AD%90%E5%95%86%E5%93%81%E8%A1%A8%E8%AE%A2%E5%8D%95%E8%A1%A8">Javaweb 实现CRUD的例子（商品表，订单表）：</h2>

<p><img src="../img/javaweb_img/demo_1.png" alt="&#x9879;&#x76EE;&#x8DEF;&#x5F84;&#x56FE;"></p>
<h4>①.创建数据库,导入jar包：</h4>
1. 创建goods表，其中oid 字段对应 orders表的id： 
<p><img src="../img/javaweb_img/demo_2.png" alt="goods&#x8868;"></p>
<ol start="2">
<li>创建orders表（<font color="red">注意：order 是mysql 数据库的关键字，无法作为表名。</font>）</li>
</ol>
<p><img src="../img/javaweb_img/demo_3.png" alt="orders&#x8868;"></p>
<p>需要的jar包：</p>
<blockquote>
<p>jstl-1.2.jar<br>
mysql-connector-java-5.1.42-bin.jar</p>
</blockquote>
<h4>②.创建实体类bean：</h4>
<pre class="language-java">
<span class="token keyword">package</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Goods</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> Integer id<span class="token punctuation">;</span>
	<span class="token keyword">private</span> Integer oid<span class="token punctuation">;</span>
	<span class="token keyword">private</span> String gname<span class="token punctuation">;</span>
	<span class="token keyword">private</span> Double gprice<span class="token punctuation">;</span>
	<span class="token keyword">public</span> <span class="token function">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token function">Goods</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">,</span> Integer oid<span class="token punctuation">,</span> String gname<span class="token punctuation">,</span> Double gprice<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>oid <span class="token operator">=</span> oid<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>gname <span class="token operator">=</span> gname<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>gprice <span class="token operator">=</span> gprice<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment" spellcheck="true">// get/set/toString 方法省略</span>
<span class="token punctuation">}</span>

</pre>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Date<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Orders</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> Integer id<span class="token punctuation">;</span>
	<span class="token keyword">private</span> String name<span class="token punctuation">;</span>
	<span class="token keyword">private</span> Date birth<span class="token punctuation">;</span>                       <span class="token comment" spellcheck="true">//Date 是日期类型 例如： 2017-12-18 </span>
	<span class="token keyword">private</span> Goods goods<span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token function">Orders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token function">Orders</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">,</span> String name<span class="token punctuation">,</span> Date birth<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>birth <span class="token operator">=</span> birth<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">public</span> <span class="token function">Orders</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">,</span> String name<span class="token punctuation">,</span> Date birth<span class="token punctuation">,</span> Goods goods<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>birth <span class="token operator">=</span> birth<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>goods <span class="token operator">=</span> goods<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token comment" spellcheck="true">// get/set/toString 方法省略</span>
<span class="token punctuation">}</span>

</pre>
<h4>③.创建与数据库的连接：</h4>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>link<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Connection<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>DriverManager<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Linkdb</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String url<span class="token operator">=</span><span class="token string">"jdbc:mysql://localhost:3306/test"</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String username<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> String password<span class="token operator">=</span><span class="token string">"root"</span><span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">static</span> Connection <span class="token function">getlinkDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		Connection conn<span class="token operator">=</span>null<span class="token punctuation">;</span>
		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			Class<span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"com.mysql.jdbc.Driver"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			conn<span class="token operator">=</span>DriverManager<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"link shibai"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>ClassNotFoundException e<span class="token punctuation">)</span><span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"link shibai22222"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token punctuation">}</span><span class="token keyword">finally</span><span class="token punctuation">{</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>conn<span class="token operator">==</span>null<span class="token punctuation">)</span><span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"link shibai3333"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> conn<span class="token punctuation">;</span>	
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre>
<h4>④.Dao层(直接用实体类bean和 SQL语句来操作数据库)：</h4>
<p>Goodsdao.java：</p>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>dao<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Connection<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>PreparedStatement<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>ResultSet<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Statement<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Date<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Goods<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>link<span class="token punctuation">.</span>Linkdb<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/*
 * 这里为 dao层 ，直接操作 实体类 和sql 语句来实现对数据的操作（增删改查）
 * 
 * */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GoodsDao</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">private</span> <span class="token keyword">static</span> Connection conn<span class="token operator">=</span>Linkdb<span class="token punctuation">.</span><span class="token function">getlinkDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//获取数据库连接</span>
	
	<span class="token comment" spellcheck="true">/** insert
	 * @param name
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>Goods g<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
    	String sql<span class="token operator">=</span><span class="token string">"insert into goods(oid, gname,gprice) values(?,?,?) "</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> g<span class="token punctuation">.</span><span class="token function">getOid</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>g<span class="token punctuation">.</span><span class="token function">getGname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>g<span class="token punctuation">.</span><span class="token function">getGprice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">int</span> a <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"insert shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token comment" spellcheck="true">/** delete
	 * @param id
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		String sql<span class="token operator">=</span><span class="token string">"delete from goods where id=?"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">int</span> a <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"delete shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token comment" spellcheck="true">/** deleteByOid
	 * @param id
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">deleteByOid</span><span class="token punctuation">(</span>Integer oid<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		String sql<span class="token operator">=</span><span class="token string">"delete from goods where oid=?"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">int</span> a <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"deleteByOid shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token comment" spellcheck="true">/** update
	 * @param id
	 * @param name
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span>Goods g<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		String sql<span class="token operator">=</span><span class="token string">"update goods set  gname=? , gprice=?  where id=?"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> g<span class="token punctuation">.</span><span class="token function">getGname</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setDouble</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span>g<span class="token punctuation">.</span><span class="token function">getGprice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> g<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">int</span> a <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"update shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	
	<span class="token comment" spellcheck="true">/** selectone 
	 * @param id
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> Goods <span class="token function">selectone</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		Goods goods<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		String sql<span class="token operator">=</span><span class="token string">"select * from goods where id=?"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		ResultSet rs <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			goods<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goods<span class="token punctuation">.</span><span class="token function">setOid</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"oid"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goods<span class="token punctuation">.</span><span class="token function">setGname</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"gname"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goods<span class="token punctuation">.</span><span class="token function">setGprice</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token string">"gprice"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> goods<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	

	<span class="token comment" spellcheck="true">/** selectAll
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Goods<span class="token operator">></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		List<span class="token operator">&lt;</span>Goods<span class="token operator">></span> listGoods<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>Goods<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		String sql<span class="token operator">=</span><span class="token string">"select * from goods"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		ResultSet rs <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			Goods ods<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Goods</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"oid"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"gname"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rs<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token string">"gprice"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			listGoods<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ods<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> listGoods<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>


	<span class="token comment" spellcheck="true">/**查询某个订单下的全部商品
	 * @param oid
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Goods<span class="token operator">></span> <span class="token function">selectByoid</span><span class="token punctuation">(</span>Integer oid<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException <span class="token punctuation">{</span>
		List<span class="token operator">&lt;</span>Goods<span class="token operator">></span> goodslist<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>Goods<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		String sql<span class="token operator">=</span><span class="token string">"select * from goods where oid=?"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		ResultSet rs <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			Goods goods<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goods<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goods<span class="token punctuation">.</span><span class="token function">setOid</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"oid"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goods<span class="token punctuation">.</span><span class="token function">setGname</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"gname"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goods<span class="token punctuation">.</span><span class="token function">setGprice</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token string">"gprice"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goodslist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>goods<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment" spellcheck="true">//把结果集的数据放到List&lt;Goods> 中</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> goodslist<span class="token punctuation">;</span>
		
	<span class="token punctuation">}</span>


	<span class="token comment" spellcheck="true">/**通过id 查询某个表单下的商品
	 * @param id
	 * @param oid
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> Goods <span class="token function">selectByoidAndid</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">,</span> Integer oid<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException <span class="token punctuation">{</span>
		Goods goods<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		String sql<span class="token operator">=</span><span class="token string">"select * from goods where oid=? and id=?"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
		ResultSet rs <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			goods<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goods<span class="token punctuation">.</span><span class="token function">setOid</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"oid"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goods<span class="token punctuation">.</span><span class="token function">setGname</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"gname"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			goods<span class="token punctuation">.</span><span class="token function">setGprice</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getDouble</span><span class="token punctuation">(</span><span class="token string">"gprice"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> goods<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>

</pre>
<p>OrdersDao.java:</p>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>dao<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Connection<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>PreparedStatement<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>ResultSet<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Statement<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Timestamp<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Date<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Goods<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Orders<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>link<span class="token punctuation">.</span>Linkdb<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/*
 * 这里为 dao层 ，直接操作 实体类 和sql 语句来实现对数据的操作（增删改查）
 * 
 * */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrdersDao</span> <span class="token punctuation">{</span>
	
	<span class="token keyword">private</span> <span class="token keyword">static</span> Connection conn<span class="token operator">=</span>Linkdb<span class="token punctuation">.</span><span class="token function">getlinkDB</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//获取数据库连接</span>
	
	
	<span class="token comment" spellcheck="true">/** insert
	 * 
	 * @param name
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>Orders o<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
    	String sql<span class="token operator">=</span><span class="token string">"insert into orders(name, birth) values(?,?)"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">(</span>java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Date<span class="token punctuation">)</span> o<span class="token punctuation">.</span><span class="token function">getBirth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">int</span> a <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"insert shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> a<span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//返回insert orders表生成的主键id值</span>
	 
	<span class="token punctuation">}</span>
	
	
	<span class="token comment" spellcheck="true">/** delete
	 * @param id
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		String sql<span class="token operator">=</span><span class="token string">"delete from orders where id=?"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">int</span> a <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"delete shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token comment" spellcheck="true">/** update
	 * @param id
	 * @param name
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span>Orders o<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		String sql<span class="token operator">=</span><span class="token string">"update orders set name=? , birth=? where id=?"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setString</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Date<span class="token punctuation">)</span> o<span class="token punctuation">.</span><span class="token function">getBirth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span>o<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">int</span> a <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>a<span class="token operator">==</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"update shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> a<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	
	<span class="token comment" spellcheck="true">/** selectone 
	 * @param id
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> Orders <span class="token function">selectone</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		Orders orders<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Orders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		String sql<span class="token operator">=</span><span class="token string">"select * from orders where id=?"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		pstmt<span class="token punctuation">.</span><span class="token function">setInt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		ResultSet rs <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			orders<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			orders<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			orders<span class="token punctuation">.</span><span class="token function">setBirth</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token string">"birth"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> orders<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	

	<span class="token comment" spellcheck="true">/** selectAll  
	 * @return
	 * @throws SQLException
	 */</span>
	<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Orders<span class="token operator">></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		List<span class="token operator">&lt;</span>Orders<span class="token operator">></span> listorders<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>Orders<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		String sql<span class="token operator">=</span><span class="token string">"select * from orders"</span><span class="token punctuation">;</span>
		PreparedStatement pstmt <span class="token operator">=</span> conn<span class="token punctuation">.</span><span class="token function">prepareStatement</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
		ResultSet rs <span class="token operator">=</span> pstmt<span class="token punctuation">.</span><span class="token function">executeQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token keyword">while</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
			Orders ods<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Orders</span><span class="token punctuation">(</span>rs<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rs<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>rs<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token string">"birth"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			listorders<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ods<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> listorders<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</pre>
<h4>⑤：Service层（对Dao层的封装）：</h4>
<p>GoodsService.java：</p>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>service<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>dao<span class="token punctuation">.</span>GoodsDao<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Goods<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/*
 * 这里是 service 层，一般用于对dao 层的方法进行封装，因为有些操作需要多个 dao层的方法联合使用
 * 
 * */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GoodsService</span> <span class="token punctuation">{</span>
	
	GoodsDao goodsdao<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">GoodsDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>Goods o<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> goodsdao<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> goodsdao<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">deleteByOid</span><span class="token punctuation">(</span>Integer oid<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> goodsdao<span class="token punctuation">.</span><span class="token function">deleteByOid</span><span class="token punctuation">(</span>oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span>Goods o<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> goodsdao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> Goods <span class="token function">selectone</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> goodsdao<span class="token punctuation">.</span><span class="token function">selectone</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Goods<span class="token operator">></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> goodsdao<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Goods<span class="token operator">></span> <span class="token function">selectByoid</span><span class="token punctuation">(</span>Integer oid<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException <span class="token punctuation">{</span>
		<span class="token keyword">return</span> goodsdao<span class="token punctuation">.</span><span class="token function">selectByoid</span><span class="token punctuation">(</span>oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment" spellcheck="true">//通过id查询该订单表的商品,如果该订单表没有该id的商品，显示无。</span>
	<span class="token keyword">public</span> Goods <span class="token function">selectByoidAndid</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">,</span> Integer oid<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException <span class="token punctuation">{</span>
		<span class="token keyword">return</span> goodsdao<span class="token punctuation">.</span><span class="token function">selectByoidAndid</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
<span class="token punctuation">}</span>

</pre>
<p>OrdersService.java:</p>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>service<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>dao<span class="token punctuation">.</span>OrdersDao<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Orders<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/*
 * 这里是 service 层，一般用于对dao 层的方法进行封装，因为有些操作需要多个 dao层的方法联合使用
 * 
 * */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrdersService</span> <span class="token punctuation">{</span>
	
	OrdersDao orderdao<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">OrdersDao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>Orders o<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
	    <span class="token keyword">return</span> orderdao<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> orderdao<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span>Orders o<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> orderdao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> Orders <span class="token function">selectone</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> orderdao<span class="token punctuation">.</span><span class="token function">selectone</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Orders<span class="token operator">></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> orderdao<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</pre>
<h4>⑥：Controller层（对Service层的封装）</h4>
<p>GoodsController.java:</p>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>controller<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Goods<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>service<span class="token punctuation">.</span>GoodsService<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/*
 * 
 * 这里是 Controller 层，一般用于对service 层的方法进行封装，因为有些业务操作需要多个 service 层的方法联合使用。
 * */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GoodsController</span> <span class="token punctuation">{</span>
	
	GoodsService goodsservice<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">GoodsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>Goods o<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> goodsservice<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> goodsservice<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">deleteByOid</span><span class="token punctuation">(</span>Integer oid<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> goodsservice<span class="token punctuation">.</span><span class="token function">deleteByOid</span><span class="token punctuation">(</span>oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span>Goods o<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> goodsservice<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token keyword">public</span> Goods <span class="token function">selectone</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> goodsservice<span class="token punctuation">.</span><span class="token function">selectone</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment" spellcheck="true">//查询该表单下的所有商品</span>
	<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Goods<span class="token operator">></span> <span class="token function">selectByoid</span><span class="token punctuation">(</span>Integer oid<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> goodsservice<span class="token punctuation">.</span><span class="token function">selectByoid</span><span class="token punctuation">(</span>oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token comment" spellcheck="true">//通过id查询该订单表的商品,如果该订单表没有该id的商品，显示无。</span>
	<span class="token keyword">public</span> Goods <span class="token function">selectByoidAndid</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">,</span>Integer oid<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> goodsservice<span class="token punctuation">.</span><span class="token function">selectByoidAndid</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span>oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Goods<span class="token operator">></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> goodsservice<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</pre>
<p>OrdersController.java:</p>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>controller<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Orders<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>service<span class="token punctuation">.</span>OrdersService<span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">/*
 * 
 * 这里是 Controller 层，一般用于对service 层的方法进行封装，因为有些业务操作需要多个 service 层的方法联合使用。
 * */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrdersController</span> <span class="token punctuation">{</span>
	
	OrdersService ordersservice<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">OrdersService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">insert</span><span class="token punctuation">(</span>Orders o<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		<span class="token keyword">return</span> ordersservice<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> ordersservice<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">update</span><span class="token punctuation">(</span>Orders o<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> ordersservice<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token keyword">public</span> Orders <span class="token function">selectone</span><span class="token punctuation">(</span>Integer id<span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> ordersservice<span class="token punctuation">.</span><span class="token function">selectone</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	
	
	<span class="token keyword">public</span> List<span class="token operator">&lt;</span>Orders<span class="token operator">></span> <span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> SQLException<span class="token punctuation">{</span>
		 <span class="token keyword">return</span> ordersservice<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</pre>
<h4>⑦：编写字符编码过滤器：</h4>
<pre class="language-java">
<span class="token keyword">package</span> com<span class="token punctuation">.</span>filter<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>Filter<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>FilterChain<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>FilterConfig<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>ServletException<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>ServletRequest<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>ServletResponse<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>WebFilter<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
   /* 表示对每个请求都要进行过滤操作，
 
@WebFilter("/*") 表示用注解的配置该过滤器的映射路径，这样可以不用在web.xml中使用xml标签进行映射路径的配置。

 */</span>
<span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">"/*"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Encoding</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>

	<span class="token comment" spellcheck="true">/*
	 * 设置编码过滤器，对每个请求都进行编码设置，防止中文乱码
	 * */</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span>ServletRequest request<span class="token punctuation">,</span> ServletResponse response<span class="token punctuation">,</span> FilterChain chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> IOException<span class="token punctuation">,</span> ServletException <span class="token punctuation">{</span>
	
	request<span class="token punctuation">.</span><span class="token function">setCharacterEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token comment" spellcheck="true">//设置请求的字符编码变为utf-8</span>
	response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment" spellcheck="true">//设置响应的字符编码变为utf-8</span>
		chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"filter destory"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token annotation punctuation">@Override</span>
	<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span>FilterConfig arg0<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException <span class="token punctuation">{</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"filter init"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	
<span class="token punctuation">}</span>

</pre>
<h4>⑧：编写Servlet文件：</h4>
<font color="red">
注意：
<p>OrdersDispathServlet : 处理从ShowOrders.jsp 页面发送的请求(通过code值的不同，进行CRUD)。<br>
OrdersList  ： 处理从 OrdersDispathServlet 发送的请求（通过status值的不同，来决定是全查还是根据条件查询），并跳转到ShowOrders.jsp 页面。</p>
<p>GoodsDispathServlet  ： 处理从GoodsEdit.jsp 页面发送的请求(通过code值的不同，进行CRUD)。<br>
Goodslist  ：处理从 GoodsDispathServlet 发送的请求（通过status值的不同，来决定是全查还是根据条件查询），并跳转到GoodsEdit.jsp 页面。</p>
</font>
<p>OrdersDispathServlet.java:</p>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>servlet<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>PrintWriter<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Date<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Timestamp<span class="token punctuation">;</span>

<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>ServletException<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>WebServlet<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServlet<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServletRequest<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServletResponse<span class="token punctuation">;</span>

<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>jasper<span class="token punctuation">.</span>tagplugins<span class="token punctuation">.</span>jstl<span class="token punctuation">.</span>core<span class="token punctuation">.</span>Out<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>controller<span class="token punctuation">.</span>GoodsController<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>controller<span class="token punctuation">.</span>OrdersController<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Goods<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Orders<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 *   /OrdersDispathServlet  ： 表示这个servlet的映射路径，   使用@WebServlet 可以省略在web.xml 上使用xml标签进行servlet的配置
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/OrdersDispathServlet"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrdersDispathServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> 1L<span class="token punctuation">;</span>
	
	<span class="token comment" spellcheck="true">/*
	 * 该servlet 初步实现了对不同的请求进行不同的处理，主要通过code 来识别不同的请求
	 * */</span>

	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		<span class="token keyword">int</span> success<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		OrdersController ordersc<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">OrdersController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		GoodsController goodsc<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">GoodsController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Integer code <span class="token operator">=</span> Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"code"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"code   "</span><span class="token operator">+</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment" spellcheck="true">/* code    1：insert  2:delete  3:update  4: 输入框有值式：selectone ，输入框无值时：selectAll
		 * status  1：全查（有关联的 ）   2:单查（有关联的）
		 * 
		 * success ：表示数据操作状态， 0： 表示插入失败，更新失败 ,删除失败 。      1：表示成功
		 * */</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>code<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		    Orders o<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Orders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			String name<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			Date birth<span class="token operator">=</span>Date<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"birth"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			o<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
			o<span class="token punctuation">.</span><span class="token function">setBirth</span><span class="token punctuation">(</span>birth<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				success<span class="token operator">=</span>ordersc<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>	  <span class="token comment" spellcheck="true">//insert orders表.返回1 表示insert成功 ，0表示失败</span>
				request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/OrdersList?status=1&amp;success="</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//从该servlet 调用 另一个servlet，并传值status=1</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"OrdersDispathServlet insert error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			

		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>code<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			Integer id<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				<span class="token comment" spellcheck="true">/*
				 * 根据id删除Orders表的数据，和与之关联的goods表的数据
				 * */</span>
				success<span class="token operator">=</span>ordersc<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>       
				goodsc<span class="token punctuation">.</span><span class="token function">deleteByOid</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
				request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/OrdersList?status=1&amp;success="</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span> 
				
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"OrdersDispathServlet delete error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>code<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			Orders o<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Orders</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			Integer id<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			String name<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			Date birth<span class="token operator">=</span>Date<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"birth"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			o<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
			o<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
			o<span class="token punctuation">.</span><span class="token function">setBirth</span><span class="token punctuation">(</span>birth<span class="token punctuation">)</span><span class="token punctuation">;</span>
			
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				success<span class="token operator">=</span>ordersc<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
				request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/OrdersList?status=1&amp;success="</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>    
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"OrdersDispathServlet update error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>code<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment" spellcheck="true">/*
			 * code=4 表示查询，如果没有id值，表示全查，否则根据id查
			 * 
			 * */</span>
			String id<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/OrdersList?status=1"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>               
			<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
				request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/OrdersList?status=2&amp;id="</span><span class="token operator">+</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>              
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	
	<span class="token punctuation">}</span>
	
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>	
		<span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</pre>
<p>OrdersList.java:</p>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>servlet<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>ServletException<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>WebServlet<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServlet<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServletRequest<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServletResponse<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>controller<span class="token punctuation">.</span>OrdersController<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Orders<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * 配置 @WebServlet(value="/OrdersList") ，就相当于在web.xml 文件配置该servlet。 映射路径为/OrdersList
 * 
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"/OrdersList"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrdersList</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> 1L<span class="token punctuation">;</span>

	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		List<span class="token operator">&lt;</span>Orders<span class="token operator">></span> orderslist<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>Orders<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		OrdersController orderc<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">OrdersController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		String status <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	
		String success<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"status : "</span><span class="token operator">+</span>status<span class="token operator">+</span><span class="token string">"   success : "</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment" spellcheck="true">/*
		 *  status  1：全查   2:单查
		 *  success ：表示数据操作状态， 0： 表示插入失败，更新失败 ,删除失败 。      1：表示成功
		 * */</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				orderslist <span class="token operator">=</span> orderc<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"orderslist"</span><span class="token punctuation">,</span> orderslist<span class="token punctuation">)</span><span class="token punctuation">;</span>
				request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"ShowOrders.jsp?success="</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//重定向到ShowOrders.jsp 页面，并把orderslist带回</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"OrdersList servlet  全查    error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
			
			
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			
			Integer id<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				Orders selectone <span class="token operator">=</span> orderc<span class="token punctuation">.</span><span class="token function">selectone</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//单个查询返回的是Orders对象</span>
			    orderslist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>selectone<span class="token punctuation">)</span><span class="token punctuation">;</span>       
				request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"orderslist"</span><span class="token punctuation">,</span> orderslist<span class="token punctuation">)</span><span class="token punctuation">;</span>
				request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"ShowOrders.jsp?success="</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"OrdersList  servlet 单查    shibai "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		<span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</pre>
<p>GoodsDispathServlet.java:</p>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>servlet<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>

<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>ServletException<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>WebServlet<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServlet<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServletRequest<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServletResponse<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>controller<span class="token punctuation">.</span>GoodsController<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Goods<span class="token punctuation">;</span>

<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/GoodsDispathServlet"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GoodsDispathServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> 1L<span class="token punctuation">;</span>
       
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		<span class="token keyword">int</span> success<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>
		GoodsController goodsc<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">GoodsController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Integer code<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"code"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		Integer oid<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"oid"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"code  "</span><span class="token operator">+</span>code<span class="token operator">+</span><span class="token string">"   oid   "</span><span class="token operator">+</span>oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token comment" spellcheck="true">/*
			 * code 1:insert  2:delete  3:update  4:输入框有值式：selectone ，输入框无值时：selectAll
			 * status  1：全查     2:单查
			 * success ：表示数据操作状态， 0： 表示插入失败，更新失败 ,删除失败 。      1：表示成功
			 * 
			 * oid ： 表示商品表的订单id ,连接订单表与商品表的纽带。
			 * */</span>
			<span class="token keyword">if</span><span class="token punctuation">(</span>code<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				String gname<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"gname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				Double gprice<span class="token operator">=</span>Double<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"gprice"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				Goods good<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				good<span class="token punctuation">.</span><span class="token function">setOid</span><span class="token punctuation">(</span>oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
				good<span class="token punctuation">.</span><span class="token function">setGname</span><span class="token punctuation">(</span>gname<span class="token punctuation">)</span><span class="token punctuation">;</span>
				good<span class="token punctuation">.</span><span class="token function">setGprice</span><span class="token punctuation">(</span>gprice<span class="token punctuation">)</span><span class="token punctuation">;</span>
				
				<span class="token keyword">try</span> <span class="token punctuation">{</span>
					success<span class="token operator">=</span>goodsc<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>good<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment" spellcheck="true">//insert goods表.返回1 表示insert成功 ，0表示失败</span>
					request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/Goodslist?status=1&amp;oid="</span><span class="token operator">+</span>oid<span class="token operator">+</span><span class="token string">"&amp;success="</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>		
				<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" GoodsDispathServlet  code=1  error "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				
			<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>code<span class="token operator">==</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				Integer id<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">try</span> <span class="token punctuation">{</span>
					success<span class="token operator">=</span>goodsc<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
					request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/Goodslist?status=1&amp;oid="</span><span class="token operator">+</span>oid<span class="token operator">+</span><span class="token string">"&amp;success"</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" GoodsDispathServlet  code=2  error "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>code<span class="token operator">==</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				Integer id<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				String gname<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"gname"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				Double gprice<span class="token operator">=</span>Double<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"gprice"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				
				Goods good<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				good<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
				good<span class="token punctuation">.</span><span class="token function">setGname</span><span class="token punctuation">(</span>gname<span class="token punctuation">)</span><span class="token punctuation">;</span>
				good<span class="token punctuation">.</span><span class="token function">setGprice</span><span class="token punctuation">(</span>gprice<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">try</span> <span class="token punctuation">{</span>
					success<span class="token operator">=</span>goodsc<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>good<span class="token punctuation">)</span><span class="token punctuation">;</span>
					request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/Goodslist?status=1&amp;oid="</span><span class="token operator">+</span>oid<span class="token operator">+</span><span class="token string">"&amp;success="</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>		
				<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">" GoodsDispathServlet  code=3  error "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>code<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				String id<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span><span class="token punctuation">(</span>id<span class="token operator">==</span><span class="token string">""</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/Goodslist?status=1&amp;oid="</span><span class="token operator">+</span>oid<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>		
				<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
					Integer id2<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
					request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"/Goodslist?status=2&amp;id="</span><span class="token operator">+</span>id2<span class="token operator">+</span><span class="token string">"&amp;oid="</span><span class="token operator">+</span>oid<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				
			<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		<span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</pre>
<p>Goodslist.java:</p>
<pre class="language-java"><span class="token keyword">package</span> com<span class="token punctuation">.</span>servlet<span class="token punctuation">;</span>

<span class="token keyword">import</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>IOException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>ArrayList<span class="token punctuation">;</span>
<span class="token keyword">import</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>List<span class="token punctuation">;</span>

<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>ServletException<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>WebServlet<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServlet<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServletRequest<span class="token punctuation">;</span>
<span class="token keyword">import</span> javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span>HttpServletResponse<span class="token punctuation">;</span>

<span class="token keyword">import</span> com<span class="token punctuation">.</span>controller<span class="token punctuation">.</span>GoodsController<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>Goods<span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">/**
 * Servlet implementation class Goodslist
 */</span>
<span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">"/Goodslist"</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Goodslist</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> 1L<span class="token punctuation">;</span>

	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		GoodsController goodsc<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">GoodsController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		List<span class="token operator">&lt;</span>Goods<span class="token operator">></span> goodslist <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token operator">&lt;</span>Goods<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		String status<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		String success<span class="token operator">=</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"status : "</span><span class="token operator">+</span>status<span class="token operator">+</span><span class="token string">"   success: "</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">;</span>
		
		<span class="token comment" spellcheck="true">/*
		 * status  1:查询该表单下的全部商品       2：通过id 查询该表单下的商品
		 * success ：表示数据操作状态， 0： 表示插入失败，更新失败 ,删除失败 。      1：表示成功
		 * oid ： 表示商品表的订单id ,连接订单表与商品表的纽带。
		 * */</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"1"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			Integer oid<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"oid"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				goodslist <span class="token operator">=</span> goodsc<span class="token punctuation">.</span><span class="token function">selectByoid</span><span class="token punctuation">(</span>oid<span class="token punctuation">)</span><span class="token punctuation">;</span>
				request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"goodslist"</span><span class="token punctuation">,</span> goodslist<span class="token punctuation">)</span><span class="token punctuation">;</span>
				request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"GoodsEdit.jsp?oid="</span><span class="token operator">+</span>oid<span class="token operator">+</span><span class="token string">"&amp;success="</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Goodslist  doGet  error 111"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
		<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>status<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"2"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			Integer id<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			Integer oid<span class="token operator">=</span>Integer<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"oid"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				goodslist<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>goodsc<span class="token punctuation">.</span><span class="token function">selectByoidAndid</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> oid<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				request<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"goodslist"</span><span class="token punctuation">,</span> goodslist<span class="token punctuation">)</span><span class="token punctuation">;</span>
				request<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">"GoodsEdit.jsp?oid="</span><span class="token operator">+</span>oid<span class="token operator">+</span><span class="token string">"&amp;success="</span><span class="token operator">+</span>success<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">SQLException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Goodslist  doGet  error 222"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			
		<span class="token punctuation">}</span>
		
	<span class="token punctuation">}</span>

	
	<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span>HttpServletRequest request<span class="token punctuation">,</span> HttpServletResponse response<span class="token punctuation">)</span> <span class="token keyword">throws</span> ServletException<span class="token punctuation">,</span> IOException <span class="token punctuation">{</span>
		
		<span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</pre>
<h4>⑨：编写jsp：</h4>
<p>ShowOrders.jsp:</p>
<pre class="language-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%@</span> <span class="token attr-name">taglib</span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://java.sun.com/jsp/jstl/core<span class="token punctuation">"</span></span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c<span class="token punctuation">"</span></span> <span class="token attr-name">%</span><span class="token punctuation">></span></span> 
<span class="token comment" spellcheck="true">&lt;!--使用jstl 标签 需要的配置--></span>  

<span class="token doctype">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>ShowOrders.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>序号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>name<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>birth<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Edit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>Delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>forEach</span> <span class="token attr-name">items</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${orderslist }<span class="token punctuation">"</span></span> <span class="token attr-name">var</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>aa<span class="token punctuation">"</span></span> <span class="token attr-name">varStatus</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vst<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!-- varStatus="vst" 该属性给遍历的数据设置序号，  ${vst.count } 从1开始，逐次递增   --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${aa.id !<span class="token punctuation">=</span> null }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>${vst.count }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>if</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${aa.id <span class="token punctuation">=</span><span class="token punctuation">=</span> null }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"列表为空"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>if</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>${aa.id }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>${aa.name }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>${aa.birth }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${aa.id <span class="token punctuation">></span>0 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- 当列表有数据时，才显示edit选项 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Goodslist?status<span class="token punctuation">=</span>1&amp;oid<span class="token punctuation">=</span>${aa.id }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>edit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>if</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${aa.id <span class="token punctuation">></span>0 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- 当列表有数据时，才显示delete选项 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>OrdersDispathServlet?code<span class="token punctuation">=</span>2&amp;id<span class="token punctuation">=</span>${aa.id }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>if</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>forEach</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
insert
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>OrdersDispathServlet?code<span class="token punctuation">=</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">onsubmit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>return check(this)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
birth:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birth<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
update(根据id更新)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>OrdersDispathServlet?code<span class="token punctuation">=</span>3<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">onsubmit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>return check(this)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
id:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
name:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
birth:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>date<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>birth<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
selectone/selectAll(通过id查询。输入框为空，全查)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span>  <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>OrdersDispathServlet?code<span class="token punctuation">=</span>4<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
id:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">

<span class="token comment" spellcheck="true">//校验form表单的input 输入框是否为空</span>

    <span class="token keyword">function</span> <span class="token function">check</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span> <span class="token punctuation">{</span>

		  <span class="token keyword">if</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span>id<span class="token punctuation">.</span>value<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		           <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入用户id!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		           form<span class="token punctuation">.</span>id<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		           <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		  <span class="token punctuation">}</span>
		  <span class="token keyword">if</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span>name<span class="token punctuation">.</span>value<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	           <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入用户姓名!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	           form<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	           <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	      <span class="token punctuation">}</span>
		  <span class="token keyword">if</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span>birth<span class="token punctuation">.</span>value<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		           <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入日期!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		           form<span class="token punctuation">.</span>birth<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		           <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		  <span class="token punctuation">}</span>
		  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
<span class="token comment" spellcheck="true">// 通过Goodslist 这个servlet 传来的success 状态码 ，来判断当前操作 是否成功</span>

	<span class="token operator">&lt;</span>c<span class="token punctuation">:</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"${param.success == '1'}"</span><span class="token operator">></span>
		<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"操作成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token punctuation">:</span><span class="token keyword">if</span><span class="token operator">></span>
	<span class="token operator">&lt;</span>c<span class="token punctuation">:</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"${param.success == '0'}"</span><span class="token operator">></span>
	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"操作失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token punctuation">:</span><span class="token keyword">if</span><span class="token operator">></span>
 
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</pre>
<p>GoodsEdit.jsp:</p>
<pre class="language-html">&lt;%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%@</span> <span class="token attr-name">taglib</span> <span class="token attr-name">uri</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://java.sun.com/jsp/jstl/core<span class="token punctuation">"</span></span> <span class="token attr-name">prefix</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>c<span class="token punctuation">"</span></span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--使用jstl 标签 需要的配置--></span>  

<span class="token doctype">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Content-Type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/html; charset<span class="token punctuation">=</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>GoodsEdit.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>序号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>oid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>gname<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>gprice<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">></span></span>delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>forEach</span> <span class="token attr-name">items</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${goodslist }<span class="token punctuation">"</span></span> <span class="token attr-name">var</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>aa<span class="token punctuation">"</span></span> <span class="token attr-name">varStatus</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>vst<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!-- varStatus="vst" 该属性给遍历的数据设置序号，  ${vst.count } 从1开始，逐次递增   --></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${aa.id !<span class="token punctuation">=</span> null }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>${vst.count }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>if</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${aa.id <span class="token punctuation">=</span><span class="token punctuation">=</span> null }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"列表为空"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>if</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>${aa.id }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>${aa.oid }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>${aa.gname }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span>${aa.gprice }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">c:</span>if</span> <span class="token attr-name">test</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${aa.id <span class="token punctuation">></span>0 }<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment" spellcheck="true">&lt;!-- 当列表有数据时，才显示delete选项 --></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>GoodsDispathServlet?code<span class="token punctuation">=</span>2&amp;id<span class="token punctuation">=</span>${aa.id }&amp;oid<span class="token punctuation">=</span>${aa.oid}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>delete<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">></span></span>
			<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>if</span><span class="token punctuation">></span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">c:</span>forEach</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">></span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
insert
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>GoodsDispathServlet?code<span class="token punctuation">=</span>1<span class="token punctuation">"</span></span>  <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">onsubmit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>return check(this)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>oid<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${param.oid}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>   <span class="token comment" spellcheck="true">&lt;!-- type="hidden" 表示该input 框隐藏 --></span>
gname:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gname<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
gprice:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gprice<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
update(根据id修改)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>GoodsDispathServlet?code<span class="token punctuation">=</span>3<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span> <span class="token attr-name">onsubmit</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>return check(this)<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
id:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>oid<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${param.oid}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
gname:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gname<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
gprice:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>gprice<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
selectone/selectAll(输入框为空，根据oid查询该表单下的全部商品，否则根据id查该表单的商品)
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span>  <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>GoodsDispathServlet?code<span class="token punctuation">=</span>4<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
id:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>oid<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>${param.oid}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>ShowOrders.jsp<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>查看订单信息<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">

<span class="token comment" spellcheck="true">//校验form表单的input 输入框是否为空</span>

    <span class="token keyword">function</span> <span class="token function">check</span><span class="token punctuation">(</span>form<span class="token punctuation">)</span> <span class="token punctuation">{</span>

		  <span class="token keyword">if</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span>id<span class="token punctuation">.</span>value<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		           <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入商品id!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		           form<span class="token punctuation">.</span>id<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		           <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		  <span class="token punctuation">}</span>
		  <span class="token keyword">if</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span>gname<span class="token punctuation">.</span>value<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	           <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请输入商品姓名!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	           form<span class="token punctuation">.</span>gname<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	           <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	      <span class="token punctuation">}</span>
		  <span class="token keyword">if</span><span class="token punctuation">(</span>form<span class="token punctuation">.</span>gprice<span class="token punctuation">.</span>value<span class="token operator">==</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
		           <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"请商品价格!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		           form<span class="token punctuation">.</span>gprice<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		           <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		  <span class="token punctuation">}</span>
		  <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    
 <span class="token comment" spellcheck="true">// 通过Orderslist 这个servlet 传来的success 状态码 ，来判断当前操作 是否成功</span>
 	<span class="token operator">&lt;</span>c<span class="token punctuation">:</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"${param.success == '1'}"</span><span class="token operator">></span>
 		<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"操作成功"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 	<span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token punctuation">:</span><span class="token keyword">if</span><span class="token operator">></span>
 	<span class="token operator">&lt;</span>c<span class="token punctuation">:</span><span class="token keyword">if</span> test<span class="token operator">=</span><span class="token string">"${param.success == '0'}"</span><span class="token operator">></span>
 	<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"操作失败"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 	<span class="token operator">&lt;</span><span class="token operator">/</span>c<span class="token punctuation">:</span><span class="token keyword">if</span><span class="token operator">></span>
 	
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>

</pre>
<h4>⑩：运行截图：</h4>
订单编辑页面：
<p><img src="../img/javaweb_img/demo_4.png" alt="showorders.jsp"></p>
<p>某个订单下的商品编辑页面：</p>
<p><img src="../img/javaweb_img/demo_5.png" alt="goodsedit.jsp"></p>
<h2 class="mume-header" id="%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">参考资料：</h2>

<p><a href="http://www.cnblogs.com/whgk/p/6399262.html">Java Web(一) Servlet详解！！- - 一杯凉茶 - 博客园</a><br>
<a href="http://blog.csdn.net/jiangwei0910410003/article/details/23372847">Java Web(一) Servlet过滤器详解！！- - 一杯凉茶 - 博客园</a><br>
<a href="https://www.w3cschool.cn/">w3school</a></p>

      </div>
      <div class="md-sidebar-toc"><ul>
<li><a href="#javaweb">javaweb</a>
<ul>
<li><a href="#%E6%A6%82%E8%BF%B0">概述：</a></li>
<li><a href="#javabean">javaBean</a></li>
<li><a href="#jsp">jsp</a>
<ul>
<li><a href="#1%E6%A6%82%E8%BF%B0">1.概述：</a></li>
<li><a href="#2jsp%E5%8E%9F%E7%90%86%E5%8F%8A%E4%BD%BF%E7%94%A8">2.jsp原理及使用：</a>
<ul>
<li><a href="#1jsp%E5%AE%B9%E5%99%A8">1.jsp容器：</a></li>
<li><a href="#2jsp%E7%9A%84%E5%A4%84%E7%90%86">2.jsp的处理：</a></li>
<li><a href="#3jsp%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">3.jsp生命周期：</a></li>
<li><a href="#4jsp%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8">4.jsp的简单使用：</a></li>
</ul>
</li>
<li><a href="#3jsp%E7%9A%84%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">3.jsp的基本语法：</a>
<ul>
<li><a href="#1%E5%B5%8C%E5%85%A5java%E4%BB%A3%E7%A0%81%E8%84%9A%E6%9C%AC%E4%BB%A3%E7%A0%81">1.嵌入Java代码（脚本代码）：</a></li>
<li><a href="#2jsp%E8%A1%A8%E8%BE%BE%E5%BC%8F">2.jsp表达式：</a></li>
<li><a href="#3jsp%E6%B3%A8%E9%87%8A">3.jsp注释：</a></li>
<li><a href="#4jsp%E6%8C%87%E4%BB%A4%E6%A0%87%E7%AD%BE%E6%B3%A8%E6%84%8F-~~-%E4%B8%AD%E4%B8%8E%E4%B8%8D%E8%83%BD%E5%88%86%E7%A6%BB-%E5%B1%9E%E6%80%A7%E5%80%BC%E4%B8%8D%E8%83%BD%E4%BB%A5-%E5%8F%B7%E7%BB%93%E5%B0%BE">4.jsp指令标签（注意：&lt;%@ ~~ %&gt;中@与%不能分离 ，属性值不能以';' 号结尾）：</a>
<ul>
<li><a href="#1-page%E6%8C%87%E4%BB%A4">1. page指令：</a></li>
<li><a href="#2-include%E6%8C%87%E4%BB%A4">2. Include指令</a></li>
<li><a href="#3-taglib%E6%8C%87%E4%BB%A4">3. Taglib指令</a></li>
</ul>
</li>
<li><a href="#5jsp%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF%E8%87%AA%E8%A1%8C%E7%99%BE%E5%BA%A6">5.jsp动作标签(更多信息，自行百度)：</a>
<ul>
<li><a href="#1-lt-jspinclude-gt%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE">1. &lt; jsp:include &gt;动作标签：</a></li>
<li><a href="#2-lt-jspusebean-gt%E5%8A%A8%E4%BD%9C%E5%85%83%E7%B4%A0">2. &lt; jsp:useBean &gt;动作元素</a></li>
<li><a href="#3-jspsetproperty-jspgetproperty%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE">3.  jsp:setProperty,  jsp:getProperty动作标签:</a></li>
<li><a href="#4lt-jspforward-gt%E5%8A%A8%E4%BD%9C%E5%85%83%E7%B4%A0">4.&lt; jsp:forward &gt;动作元素</a></li>
<li><a href="#5lt-jspparam-gt%E5%8A%A8%E4%BD%9C%E6%A0%87%E7%AD%BE">5.&lt; jsp:param &gt;动作标签</a></li>
</ul>
</li>
<li><a href="#6jsp%E4%B9%9D%E5%A4%A7%E5%86%85%E7%BD%AE%E5%AF%B9%E8%B1%A1">6.jsp九大内置对象：</a>
<ul>
<li><a href="#1out-%E8%BE%93%E5%87%BA%E5%AF%B9%E8%B1%A1">1.out 输出对象：</a></li>
<li><a href="#2request-%E8%AF%B7%E6%B1%82%E5%AF%B9%E8%B1%A1">2.request 请求对象</a></li>
<li><a href="#3response-%E5%93%8D%E5%BA%94%E5%AF%B9%E8%B1%A1">3.response 响应对象</a></li>
<li><a href="#4session-%E4%BC%9A%E8%AF%9D%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E6%B5%8F%E8%A7%88%E5%99%A8%E4%B8%AD%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE">4.session 会话对象（在同一个浏览器中共享数据）</a></li>
<li><a href="#5application%E5%AF%B9%E8%B1%A1%E5%9C%A8%E5%90%8C%E4%B8%80%E4%B8%AA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE">5.application对象（在同一个应用程序中共享数据）</a></li>
<li><a href="#6page%E5%AF%B9%E8%B1%A1">6.page对象</a></li>
<li><a href="#7pagecontent%E5%AF%B9%E8%B1%A1%E5%BE%88%E5%B0%91%E4%BD%BF%E7%94%A8">7.pageContent对象（很少使用）</a></li>
<li><a href="#8config-%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96webxml-%E9%85%8D%E7%BD%AE%E4%BF%A1%E6%81%AF">8.config 对象（获取web.xml 配置信息）</a></li>
<li><a href="#9exception%E5%AF%B9%E8%B1%A1%E8%8E%B7%E5%8F%96%E5%BC%82%E5%B8%B8%E4%BF%A1%E6%81%AF">9.exception对象（获取异常信息）</a></li>
<li><a href="#%E8%A1%A5%E5%85%85">补充：</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#4jsp%E4%B8%8Ejavabean%E7%9A%84%E6%B7%B7%E5%90%88">4.jsp与javaBean的混合：</a></li>
</ul>
</li>
<li><a href="#servlet%E7%BB%A7%E6%89%BF%E5%AE%9E%E7%8E%B0%E4%BA%86servlet%E6%8E%A5%E5%8F%A3%E7%9A%84java%E7%B1%BB">Servlet（继承，实现了Servlet接口的，Java类）</a>
<ul>
<li><a href="#1%E6%A6%82%E8%BF%B0-1">1.概述：</a></li>
<li><a href="#2-%E5%8E%9F%E7%90%86%E4%B8%8E%E7%BB%A7%E6%89%BF%E5%85%B3%E7%B3%BB">2. 原理与继承关系：</a></li>
<li><a href="#3%E5%88%9B%E5%BB%BAservlet%E4%B8%8E%E9%85%8D%E7%BD%AEservlet%E6%8A%8Aservlet%E5%AF%B9%E8%B1%A1%E6%B3%A8%E5%85%A5%E5%88%B0servlet%E5%AE%B9%E5%99%A8%E4%B8%AD">3.创建Servlet,与配置Servlet（把servlet对象注入到Servlet容器中）：</a></li>
<li><a href="#4servlet%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F">4.servlet的生命周期：</a></li>
<li><a href="#5servlet%E7%BC%96%E5%86%99%E8%BF%87%E6%BB%A4%E5%99%A8filter-%E8%BF%87%E6%BB%A4%E5%99%A8">5.servlet编写过滤器（Filter 过滤器）：</a></li>
<li><a href="#6servlet-%E5%AF%B9%E4%BA%8E%E5%BC%82%E5%B8%B8%E7%9A%84%E5%A4%84%E7%90%86">6.servlet 对于异常的处理：</a></li>
</ul>
</li>
<li><a href="#el%E8%A1%A8%E8%BE%BE%E5%BC%8F-%E4%B8%8E-jstl%E6%A0%87%E7%AD%BE%E5%BA%93">EL表达式 与 JSTL标签库：</a>
<ul>
<li><a href="#1el%E8%A1%A8%E8%BE%BE%E5%BC%8F%E8%AF%AD%E8%A8%80epression-language">1.EL(表达式语言，Epression Language)</a></li>
<li><a href="#2jstl">2.JSTL</a></li>
</ul>
</li>
<li><a href="#jdbc">JDBC</a>
<ul>
<li><a href="#1jdbcl%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BB%A5mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%BA%E4%BE%8B">1.jdbcl连接数据库，以mysql数据库为例：</a></li>
<li><a href="#2statement-%E6%8E%A5%E5%8F%A3%E4%B8%8Epreparedstatement%E6%8E%A5%E5%8F%A3">2.Statement 接口与PreparedStatement接口:</a>
<ul>
<li><a href="#1statement-%E6%8E%A5%E5%8F%A3">1.Statement 接口：</a></li>
<li><a href="#2preparedstatement-%E6%8E%A5%E5%8F%A3">2.PreparedStatement 接口：</a></li>
</ul>
</li>
<li><a href="#3%E7%BB%93%E6%9E%9C%E9%9B%86resultset%E6%8E%A5%E5%8F%A3%E6%8F%90%E4%BE%9B%E6%8C%87%E9%92%88%E5%8A%9F%E8%83%BD">3.结果集ResultSet接口（提供指针功能）:</a></li>
<li><a href="#4%E4%BE%8B%E5%AD%90jdbc-%E6%93%8D%E4%BD%9C%E6%95%B0%E6%8D%AE%E5%BA%93">4.例子：jdbc 操作数据库:</a></li>
</ul>
</li>
<li><a href="#javaweb-%E5%AE%9E%E7%8E%B0crud%E7%9A%84%E4%BE%8B%E5%AD%90%E5%95%86%E5%93%81%E8%A1%A8%E8%AE%A2%E5%8D%95%E8%A1%A8">Javaweb 实现CRUD的例子（商品表，订单表）：</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">参考资料：</a></li>
</ul>
</li>
</ul>
</div>
      <a id="sidebar-toc-btn">≡</a>
    </body>
    
    
    
    
    
    <script>
(function bindTaskListEvent() {
  var taskListItemCheckboxes = document.body.getElementsByClassName('task-list-item-checkbox')
  for (var i = 0; i < taskListItemCheckboxes.length; i++) {
    var checkbox = taskListItemCheckboxes[i]
    var li = checkbox.parentElement
    if (li.tagName !== 'LI') li = li.parentElement
    if (li.tagName === 'LI') {
      li.classList.add('task-list-item')
    }
  }
}())    
</script>
    
<script>

var sidebarTOCBtn = document.getElementById('sidebar-toc-btn')
sidebarTOCBtn.addEventListener('click', function(event) {
  event.stopPropagation()
  if (document.body.hasAttribute('html-show-sidebar-toc')) {
    document.body.removeAttribute('html-show-sidebar-toc')
  } else {
    document.body.setAttribute('html-show-sidebar-toc', true)
  }
})
</script>
      
  </html>